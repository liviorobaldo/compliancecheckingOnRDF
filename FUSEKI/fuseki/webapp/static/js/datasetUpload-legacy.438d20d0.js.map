{"version":3,"file":"static/js/datasetUpload-legacy.438d20d0.js","mappings":"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","sources":["webpack://apache-jena-fuseki/./src/views/dataset/Upload.vue?a21f","webpack://apache-jena-fuseki/src/views/dataset/Upload.vue","webpack://apache-jena-fuseki/./src/views/dataset/Upload.vue?e3dd","webpack://apache-jena-fuseki/./src/views/dataset/Upload.vue","webpack://apache-jena-fuseki/./node_modules/core-js/internals/advance-string-index.js","webpack://apache-jena-fuseki/./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack://apache-jena-fuseki/./node_modules/core-js/internals/get-substitution.js","webpack://apache-jena-fuseki/./node_modules/core-js/internals/regexp-exec-abstract.js","webpack://apache-jena-fuseki/./node_modules/core-js/internals/regexp-exec.js","webpack://apache-jena-fuseki/./node_modules/core-js/internals/regexp-flags.js","webpack://apache-jena-fuseki/./node_modules/core-js/internals/regexp-sticky-helpers.js","webpack://apache-jena-fuseki/./node_modules/core-js/internals/regexp-unsupported-dot-all.js","webpack://apache-jena-fuseki/./node_modules/core-js/internals/regexp-unsupported-ncg.js","webpack://apache-jena-fuseki/./node_modules/core-js/internals/string-repeat.js","webpack://apache-jena-fuseki/./node_modules/core-js/internals/this-number-value.js","webpack://apache-jena-fuseki/./node_modules/core-js/modules/es.number.to-fixed.js","webpack://apache-jena-fuseki/./node_modules/core-js/modules/es.regexp.exec.js","webpack://apache-jena-fuseki/./node_modules/core-js/modules/es.string.replace.js","webpack://apache-jena-fuseki/./node_modules/vue-upload-component/dist/vue-upload-component.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-row',{staticClass:\"mt-4\"},[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('h2',[_vm._v(\"/\"+_vm._s(this.datasetName))]),_c('b-card',{attrs:{\"no-body\":\"\"}},[_c('b-card-header',{attrs:{\"header-tag\":\"nav\"}},[_c('Menu',{attrs:{\"dataset-name\":_vm.datasetName}})],1),(!this.services['gsp-rw'] || this.services['gsp-rw'].length === 0)?_c('b-card-body',[_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"warning\"}},[_vm._v(\"No service for adding data available. The Graph Store Protocol service should be configured to allow adding data.\")])],1):_c('b-card-body',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$refs.upload && _vm.$refs.upload.dropActive),expression:\"$refs.upload && $refs.upload.dropActive\"}],staticClass:\"drop-active\"},[_c('h3',[_vm._v(\"Drop files to upload\")])]),_c('b-row',[_c('b-col',{attrs:{\"sm\":\"12\"}},[_c('h3',[_vm._v(\"Upload files\")]),_c('p',[_vm._v(\"Load data into the default graph of the currently selected dataset, or the given named graph. You may upload any RDF format, such as Turtle, RDF/XML or TRiG.\")]),_c('b-form',[_c('b-form-group',{attrs:{\"id\":\"dataset-graph-name-group\",\"label\":\"Dataset graph name\",\"label-for\":\"dataset-graph-name\",\"label-cols\":\"12\",\"label-cols-sm\":\"4\",\"label-cols-md\":\"4\",\"label-cols-lg\":\"2\",\"label-size\":\"sm\"}},[_c('b-form-input',{attrs:{\"pattern\":\"[^\\\\s]+\",\"oninvalid\":\"this.setCustomValidity('Enter a valid dataset graph name')\",\"oninput\":\"this.setCustomValidity('')\",\"id\":\"dataset-graph-name\",\"type\":\"text\",\"placeholder\":\"Leave blank for default graph\",\"trim\":\"\"},model:{value:(_vm.form.datasetGraphName),callback:function ($$v) {_vm.$set(_vm.form, \"datasetGraphName\", $$v)},expression:\"form.datasetGraphName\"}})],1),_c('b-form-group',{attrs:{\"id\":\"dataset-files\",\"label\":\"Files to upload\",\"label-for\":\"add-files-action-dropdown\",\"label-cols\":\"12\",\"label-cols-sm\":\"4\",\"label-cols-md\":\"4\",\"label-cols-lg\":\"2\",\"label-size\":\"sm\"}},[_c('file-upload',{ref:\"upload\",staticClass:\"btn btn-success\",attrs:{\"post-action\":_vm.postActionUrl,\"extensions\":_vm.upload.extensions,\"accept\":_vm.upload.accept,\"multiple\":_vm.upload.multiple,\"directory\":_vm.upload.directory,\"size\":_vm.upload.size || 0,\"thread\":_vm.upload.thread < 1 ? 1 : (_vm.upload.thread > 5 ? 5 : _vm.upload.thread),\"headers\":_vm.upload.headers,\"data\":_vm.upload.data,\"drop\":_vm.upload.drop,\"drop-directory\":_vm.upload.dropDirectory,\"add-index\":_vm.upload.addIndex},model:{value:(_vm.upload.files),callback:function ($$v) {_vm.$set(_vm.upload, \"files\", $$v)},expression:\"upload.files\"}},[_c('FontAwesomeIcon',{attrs:{\"icon\":\"plus\"}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(\"select files\")])],1),(!_vm.$refs.upload || !_vm.$refs.upload.active)?_c('b-button',{staticClass:\"ml-2 d-inline\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){$event.preventDefault();_vm.$refs.upload.active = true}}},[_c('FontAwesomeIcon',{attrs:{\"icon\":\"upload\"}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(\"upload all\")])],1):_c('b-button',{staticClass:\"ml-2 d-inline\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){$event.preventDefault();_vm.$refs.upload.active = false}}},[_c('FontAwesomeIcon',{attrs:{\"icon\":\"times-circle\"}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(\"stop upload\")])],1)],1)],1)],1)],1),_c('b-row',[_c('b-col',[_c('b-table',{attrs:{\"fields\":_vm.datasetTableFields,\"items\":_vm.datasetTableItems,\"stacked\":\"lg\",\"empty-text\":\"No files selected\",\"bordered\":\"\",\"fixed\":\"\",\"hover\":\"\",\"show-empty\":\"\"},scopedSlots:_vm._u([{key:\"cell(size)\",fn:function(data){return [_vm._v(\" \"+_vm._s(_vm.readableFileSize(data.item.size))+\" \")]}},{key:\"cell(speed)\",fn:function(data){return [_vm._v(\" \"+_vm._s(_vm.readableFileSize(data.item.speed))+\"/s \")]}},{key:\"cell(status)\",fn:function(data){return [_c('b-progress',{attrs:{\"variant\":_vm.getFileStatus(data.item),\"value\":data.item.progress,\"max\":100,\"precision\":2,\"show-progress\":\"\"}}),_c('span',{staticClass:\"small\"},[_vm._v(\"Triples uploaded: \")]),(data.item.response.tripleCount)?_c('span',{staticClass:\"small\"},[_vm._v(\" \"+_vm._s(data.item.response.tripleCount)+\" \")]):_c('span',{staticClass:\"small\"},[_vm._v(\"0\")])]}},{key:\"cell(actions)\",fn:function(data){return [_c('b-button',{staticClass:\"mr-0 mb-2 d-block\",attrs:{\"variant\":\"outline-primary\"},on:{\"click\":function($event){$event.preventDefault();data.item.success || data.item.error === 'compressing' ? false : _vm.$refs.upload.update(data.item, {active: true})}}},[_c('FontAwesomeIcon',{attrs:{\"icon\":\"upload\"}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(\"upload now\")])],1),_c('b-button',{staticClass:\"mr-0 mb-md-0 d-block d-md-inline-block\",attrs:{\"variant\":\"outline-primary\"},on:{\"click\":function($event){$event.preventDefault();return _vm.remove(data.item)}}},[_c('FontAwesomeIcon',{attrs:{\"icon\":\"minus-circle\"}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(\"remove\")])],1)]}}])})],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n   Licensed to the Apache Software Foundation (ASF) under one or more\n   contributor license agreements.  See the NOTICE file distributed with\n   this work for additional information regarding copyright ownership.\n   The ASF licenses this file to You under the Apache License, Version 2.0\n   (the \"License\"); you may not use this file except in compliance with\n   the License.  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n-->\n\n<template>\n  <b-container fluid>\n    <b-row class=\"mt-4\">\n      <b-col cols=\"12\">\n        <h2>/{{ this.datasetName }}</h2>\n        <b-card no-body>\n          <b-card-header header-tag=\"nav\">\n            <Menu :dataset-name=\"datasetName\" />\n          </b-card-header>\n          <b-card-body v-if=\"!this.services['gsp-rw'] || this.services['gsp-rw'].length === 0\">\n            <b-alert show variant=\"warning\">No service for adding data available. The Graph Store Protocol service should be configured to allow adding data.</b-alert>\n          </b-card-body>\n          <b-card-body v-else>\n            <div v-show=\"$refs.upload && $refs.upload.dropActive\" class=\"drop-active\">\n              <h3>Drop files to upload</h3>\n            </div>\n            <b-row>\n              <b-col sm=\"12\">\n                <h3>Upload files</h3>\n                <p>Load data into the default graph of the currently selected dataset, or the given named graph.\n                  You may upload any RDF format, such as Turtle, RDF/XML or TRiG.</p>\n                <b-form>\n                  <b-form-group\n                    id=\"dataset-graph-name-group\"\n                    label=\"Dataset graph name\"\n                    label-for=\"dataset-graph-name\"\n                    label-cols=\"12\"\n                    label-cols-sm=\"4\"\n                    label-cols-md=\"4\"\n                    label-cols-lg=\"2\"\n                    label-size=\"sm\"\n                  >\n                    <b-form-input\n                      pattern=\"[^\\s]+\"\n                      oninvalid=\"this.setCustomValidity('Enter a valid dataset graph name')\"\n                      oninput=\"this.setCustomValidity('')\"\n                      id=\"dataset-graph-name\"\n                      v-model=\"form.datasetGraphName\"\n                      type=\"text\"\n                      placeholder=\"Leave blank for default graph\"\n                      trim\n                    ></b-form-input>\n                  </b-form-group>\n                  <b-form-group\n                    id=\"dataset-files\"\n                    label=\"Files to upload\"\n                    label-for=\"add-files-action-dropdown\"\n                    label-cols=\"12\"\n                    label-cols-sm=\"4\"\n                    label-cols-md=\"4\"\n                    label-cols-lg=\"2\"\n                    label-size=\"sm\"\n                  >\n                    <file-upload\n                      ref=\"upload\"\n                      v-model=\"upload.files\"\n                      :post-action=\"postActionUrl\"\n                      :extensions=\"upload.extensions\"\n                      :accept=\"upload.accept\"\n                      :multiple=\"upload.multiple\"\n                      :directory=\"upload.directory\"\n                      :size=\"upload.size || 0\"\n                      :thread=\"upload.thread < 1 ? 1 : (upload.thread > 5 ? 5 : upload.thread)\"\n                      :headers=\"upload.headers\"\n                      :data=\"upload.data\"\n                      :drop=\"upload.drop\"\n                      :drop-directory=\"upload.dropDirectory\"\n                      :add-index=\"upload.addIndex\"\n                      class=\"btn btn-success\"\n                    >\n                      <FontAwesomeIcon icon=\"plus\" />\n                      <span class=\"ml-2\">select files</span>\n                    </file-upload>\n                    <b-button\n                      v-if=\"!$refs.upload || !$refs.upload.active\"\n                      @click.prevent=\"$refs.upload.active = true\"\n                      variant=\"primary\"\n                      class=\"ml-2 d-inline\">\n                      <FontAwesomeIcon icon=\"upload\" />\n                      <span class=\"ml-2\">upload all</span>\n                    </b-button>\n                    <b-button\n                      v-else\n                      @click.prevent=\"$refs.upload.active = false\"\n                      variant=\"primary\"\n                      class=\"ml-2 d-inline\">\n                      <FontAwesomeIcon icon=\"times-circle\" />\n                      <span class=\"ml-2\">stop upload</span>\n                    </b-button>\n                  </b-form-group>\n                </b-form>\n              </b-col>\n            </b-row>\n            <b-row>\n              <b-col>\n                <b-table\n                  :fields=\"datasetTableFields\"\n                  :items=\"datasetTableItems\"\n                  stacked=\"lg\"\n                  empty-text=\"No files selected\"\n                  bordered\n                  fixed\n                  hover\n                  show-empty\n                >\n                  <template v-slot:cell(size)=\"data\">\n                    {{ readableFileSize(data.item.size) }}\n                  </template>\n                  <template v-slot:cell(speed)=\"data\">\n                    {{ readableFileSize(data.item.speed) }}/s\n                  </template>\n                  <template v-slot:cell(status)=\"data\">\n                    <b-progress\n                      :variant=\"getFileStatus(data.item)\"\n                      :value=\"data.item.progress\"\n                      :max=\"100\"\n                      :precision=\"2\"\n                      show-progress></b-progress>\n                    <span class=\"small\">Triples uploaded:&nbsp;</span>\n                    <span v-if=\"data.item.response.tripleCount\" class=\"small\">\n                      {{ data.item.response.tripleCount }}\n                    </span>\n                    <span v-else class=\"small\">0</span>\n                  </template>\n                  <template v-slot:cell(actions)=\"data\">\n                    <b-button\n                      @click.prevent=\"data.item.success || data.item.error === 'compressing' ? false : $refs.upload.update(data.item, {active: true})\"\n                      variant=\"outline-primary\"\n                      class=\"mr-0 mb-2 d-block\"\n                    >\n                      <FontAwesomeIcon icon=\"upload\" />\n                      <span class=\"ml-2\">upload now</span>\n                    </b-button>\n                    <b-button\n                      @click.prevent=\"remove(data.item)\"\n                      variant=\"outline-primary\"\n                      class=\"mr-0 mb-md-0 d-block d-md-inline-block\"\n                    >\n                      <FontAwesomeIcon icon=\"minus-circle\" />\n                      <span class=\"ml-2\">remove</span>\n                    </b-button>\n                  </template>\n                </b-table>\n              </b-col>\n            </b-row>\n          </b-card-body>\n        </b-card>\n      </b-col>\n    </b-row>\n  </b-container>\n</template>\n\n<script>\nimport Menu from '@/components/dataset/Menu'\nimport FileUpload from 'vue-upload-component'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { faPlus, faUpload, faTimesCircle, faMinusCircle } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\nimport currentDatasetMixin from '@/mixins/current-dataset'\n\nlibrary.add(faPlus, faUpload, faTimesCircle, faMinusCircle)\n\nexport default {\n  name: 'DatasetUpload',\n\n  components: {\n    Menu,\n    FontAwesomeIcon,\n    FileUpload\n  },\n\n  mixins: [\n    currentDatasetMixin\n  ],\n\n  data () {\n    return {\n      form: {\n        datasetGraphName: null,\n        datasetFiles: null\n      },\n      upload: {\n        files: [],\n        accept: '', // e.g. 'ttl,xml,rdf,...'\n        minSize: 0,\n        // size: 1024 * 1024 * 10,\n        multiple: true,\n        directory: false,\n        drop: true,\n        dropDirectory: true,\n        addIndex: false,\n        thread: 3,\n        name: 'file',\n        headers: { // e.g. CSRF headers\n        },\n        data: {},\n        autoCompress: 1024 * 1024,\n        uploadAuto: false,\n        isOption: false\n        // addData: {\n        //   show: false,\n        //   name: '',\n        //   type: '',\n        //   content: ''\n        // },\n        // editFile: {\n        //   show: false,\n        //   name: ''\n        // }\n      },\n      datasetTableFields: [\n        {\n          key: 'name',\n          label: 'name',\n          sortable: true,\n          sortDirection: 'asc'\n        },\n        {\n          key: 'size',\n          label: 'size',\n          sortable: true,\n          sortDirection: 'asc'\n        },\n        {\n          key: 'speed',\n          label: 'speed'\n        },\n        {\n          key: 'status',\n          label: 'status'\n        },\n        {\n          key: 'actions',\n          label: 'actions'\n        }\n      ]\n    }\n  },\n\n  computed: {\n    datasetTableItems () {\n      if (!this.upload.files) {\n        return []\n      }\n      return this.upload.files\n        .map(file => {\n          return Object.assign(file, {\n            status: this.getFileStatus(file)\n          })\n        })\n    },\n    postActionUrl () {\n      if (!this.services['gsp-rw'] || this.services['gsp-rw'].length === 0) {\n        return ''\n      }\n      const params = (this.form.datasetGraphName && this.form.datasetGraphName !== '') ? `?graph=${this.form.datasetGraphName}` : ''\n      const dataEndpoint = this.services['gsp-rw']['srv.endpoints'].find(endpoint => endpoint !== '') || ''\n      return this.$fusekiService.getFusekiUrl(`/${this.datasetName}/${dataEndpoint}${params}`)\n    }\n  },\n\n  methods: {\n    getFileStatus (file) {\n      if (file.error) {\n        // eslint-disable-next-line no-console\n        console.error(file)\n        return 'danger'\n      }\n      if (file.success) {\n        return 'success'\n      }\n      if (file.active) {\n        return 'warning'\n      }\n      return ''\n    },\n    remove (file) {\n      this.$refs.upload.remove(file)\n    },\n    /**\n     * Return file size in bytes in a human-readable form.\n     *\n     * Copied from the Backbone.js code with modifications.\n     *\n     * Replaced sprintf usage by .toFixed(2).\n     */\n    readableFileSize: function (size) {\n      const k = 1024\n      const m = k * k\n\n      if (size >= m) {\n        return `${(size / m).toFixed(2).replace(/\\.?0*$/, '')}mb`\n      } else if (size >= k) {\n        return `${(size / k).toFixed(2).replace(/\\.?0*$/, '')}kb`\n      } else {\n        return `${size} bytes`\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Upload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Upload.vue?vue&type=template&id=0284c1d4&\"\nimport script from \"./Upload.vue?vue&type=script&lang=js&\"\nexport * from \"./Upload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.es/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar redefine = require('../internals/redefine');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\nvar RegExpPrototype = RegExp.prototype;\n\nmodule.exports = function (KEY, exec, FORCED, SHAM) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    FORCED\n  ) {\n    var uncurriedNativeRegExpMethod = uncurryThis(/./[SYMBOL]);\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      var uncurriedNativeMethod = uncurryThis(nativeMethod);\n      var $exec = regexp.exec;\n      if ($exec === regexpExec || $exec === RegExpPrototype.exec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: uncurriedNativeRegExpMethod(regexp, str, arg2) };\n        }\n        return { done: true, value: uncurriedNativeMethod(str, regexp, arg2) };\n      }\n      return { done: false };\n    });\n\n    redefine(String.prototype, KEY, methods[0]);\n    redefine(RegExpPrototype, SYMBOL, methods[1]);\n  }\n\n  if (SHAM) createNonEnumerableProperty(RegExpPrototype[SYMBOL], 'sham', true);\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar floor = Math.floor;\nvar charAt = uncurryThis(''.charAt);\nvar replace = uncurryThis(''.replace);\nvar stringSlice = uncurryThis(''.slice);\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d{1,2}|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d{1,2})/g;\n\n// `GetSubstitution` abstract operation\n// https://tc39.es/ecma262/#sec-getsubstitution\nmodule.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n  var tailPos = position + matched.length;\n  var m = captures.length;\n  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n  if (namedCaptures !== undefined) {\n    namedCaptures = toObject(namedCaptures);\n    symbols = SUBSTITUTION_SYMBOLS;\n  }\n  return replace(replacement, symbols, function (match, ch) {\n    var capture;\n    switch (charAt(ch, 0)) {\n      case '$': return '$';\n      case '&': return matched;\n      case '`': return stringSlice(str, 0, position);\n      case \"'\": return stringSlice(str, tailPos);\n      case '<':\n        capture = namedCaptures[stringSlice(ch, 1, -1)];\n        break;\n      default: // \\d\\d?\n        var n = +ch;\n        if (n === 0) return match;\n        if (n > m) {\n          var f = floor(n / 10);\n          if (f === 0) return match;\n          if (f <= m) return captures[f - 1] === undefined ? charAt(ch, 1) : captures[f - 1] + charAt(ch, 1);\n          return match;\n        }\n        capture = captures[n - 1];\n    }\n    return capture === undefined ? '' : capture;\n  });\n};\n","var global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar isCallable = require('../internals/is-callable');\nvar classof = require('../internals/classof-raw');\nvar regexpExec = require('../internals/regexp-exec');\n\nvar TypeError = global.TypeError;\n\n// `RegExpExec` abstract operation\n// https://tc39.es/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (isCallable(exec)) {\n    var result = call(exec, R, S);\n    if (result !== null) anObject(result);\n    return result;\n  }\n  if (classof(R) === 'RegExp') return call(regexpExec, R, S);\n  throw TypeError('RegExp#exec called on incompatible receiver');\n};\n","'use strict';\n/* eslint-disable regexp/no-empty-capturing-group, regexp/no-empty-group, regexp/no-lazy-ends -- testing */\n/* eslint-disable regexp/no-useless-quantifier -- testing */\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar regexpFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar shared = require('../internals/shared');\nvar create = require('../internals/object-create');\nvar getInternalState = require('../internals/internal-state').get;\nvar UNSUPPORTED_DOT_ALL = require('../internals/regexp-unsupported-dot-all');\nvar UNSUPPORTED_NCG = require('../internals/regexp-unsupported-ncg');\n\nvar nativeReplace = shared('native-string-replace', String.prototype.replace);\nvar nativeExec = RegExp.prototype.exec;\nvar patchedExec = nativeExec;\nvar charAt = uncurryThis(''.charAt);\nvar indexOf = uncurryThis(''.indexOf);\nvar replace = uncurryThis(''.replace);\nvar stringSlice = uncurryThis(''.slice);\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  call(nativeExec, re1, 'a');\n  call(nativeExec, re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG;\n\nif (PATCH) {\n  patchedExec = function exec(string) {\n    var re = this;\n    var state = getInternalState(re);\n    var str = toString(string);\n    var raw = state.raw;\n    var result, reCopy, lastIndex, match, i, object, group;\n\n    if (raw) {\n      raw.lastIndex = re.lastIndex;\n      result = call(patchedExec, raw, str);\n      re.lastIndex = raw.lastIndex;\n      return result;\n    }\n\n    var groups = state.groups;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = call(regexpFlags, re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = replace(flags, 'y', '');\n      if (indexOf(flags, 'g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = stringSlice(str, re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && charAt(str, re.lastIndex - 1) !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = call(nativeExec, sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = stringSlice(match.input, charsAdded);\n        match[0] = stringSlice(match[0], charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      call(nativeReplace, match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    if (match && groups) {\n      match.groups = object = create(null);\n      for (i = 0; i < groups.length; i++) {\n        group = groups[i];\n        object[group[0]] = match[group[1]];\n      }\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nvar UNSUPPORTED_Y = fails(function () {\n  var re = $RegExp('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\n// UC Browser bug\n// https://github.com/zloirock/core-js/issues/1008\nvar MISSED_STICKY = UNSUPPORTED_Y || fails(function () {\n  return !$RegExp('a', 'y').sticky;\n});\n\nvar BROKEN_CARET = UNSUPPORTED_Y || fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = $RegExp('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n\nmodule.exports = {\n  BROKEN_CARET: BROKEN_CARET,\n  MISSED_STICKY: MISSED_STICKY,\n  UNSUPPORTED_Y: UNSUPPORTED_Y\n};\n","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('.', 's') -> /./s and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nmodule.exports = fails(function () {\n  var re = $RegExp('.', 's');\n  return !(re.dotAll && re.exec('\\n') && re.flags === 's');\n});\n","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('(?<a>b)', 'g') -> /(?<a>b)/g and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nmodule.exports = fails(function () {\n  var re = $RegExp('(?<a>b)', 'g');\n  return re.exec('b').groups.a !== 'b' ||\n    'b'.replace(re, '$<a>c') !== 'bc';\n});\n","'use strict';\nvar global = require('../internals/global');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar RangeError = global.RangeError;\n\n// `String.prototype.repeat` method implementation\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\nmodule.exports = function repeat(count) {\n  var str = toString(requireObjectCoercible(this));\n  var result = '';\n  var n = toIntegerOrInfinity(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\n// `thisNumberValue` abstract operation\n// https://tc39.es/ecma262/#sec-thisnumbervalue\nmodule.exports = uncurryThis(1.0.valueOf);\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar thisNumberValue = require('../internals/this-number-value');\nvar $repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar RangeError = global.RangeError;\nvar String = global.String;\nvar floor = Math.floor;\nvar repeat = uncurryThis($repeat);\nvar stringSlice = uncurryThis(''.slice);\nvar un$ToFixed = uncurryThis(1.0.toFixed);\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = String(data[index]);\n      s = s === '' ? t : s + repeat('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = fails(function () {\n  return un$ToFixed(0.00008, 3) !== '0.000' ||\n    un$ToFixed(0.9, 0) !== '1' ||\n    un$ToFixed(1.255, 2) !== '1.25' ||\n    un$ToFixed(1000000000000000128.0, 0) !== '1000000000000000128';\n}) || !fails(function () {\n  // V8 ~ Android 4.3-\n  un$ToFixed({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toIntegerOrInfinity(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    // TODO: ES2018 increased the maximum number of fraction digits to 100, need to improve the implementation\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat('0', fractDigits - k) + result\n        : stringSlice(result, 0, k - fractDigits) + '.' + stringSlice(result, k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n// `RegExp.prototype.exec` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.exec\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar apply = require('../internals/function-apply');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar fails = require('../internals/fails');\nvar anObject = require('../internals/an-object');\nvar isCallable = require('../internals/is-callable');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar getMethod = require('../internals/get-method');\nvar getSubstitution = require('../internals/get-substitution');\nvar regExpExec = require('../internals/regexp-exec-abstract');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar REPLACE = wellKnownSymbol('replace');\nvar max = Math.max;\nvar min = Math.min;\nvar concat = uncurryThis([].concat);\nvar push = uncurryThis([].push);\nvar stringIndexOf = uncurryThis(''.indexOf);\nvar stringSlice = uncurryThis(''.slice);\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  // eslint-disable-next-line regexp/prefer-escape-replacement-dollar-char -- required for testing\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  // eslint-disable-next-line regexp/no-useless-dollar-replacements -- false positive\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', function (_, nativeReplace, maybeCallNative) {\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : getMethod(searchValue, REPLACE);\n      return replacer\n        ? call(replacer, searchValue, O, replaceValue)\n        : call(nativeReplace, toString(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (string, replaceValue) {\n      var rx = anObject(this);\n      var S = toString(string);\n\n      if (\n        typeof replaceValue == 'string' &&\n        stringIndexOf(replaceValue, UNSAFE_SUBSTITUTE) === -1 &&\n        stringIndexOf(replaceValue, '$<') === -1\n      ) {\n        var res = maybeCallNative(nativeReplace, rx, S, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var functionalReplace = isCallable(replaceValue);\n      if (!functionalReplace) replaceValue = toString(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        push(results, result);\n        if (!global) break;\n\n        var matchStr = toString(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = toString(result[0]);\n        var position = max(min(toIntegerOrInfinity(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) push(captures, maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = concat([matched], captures, position, S);\n          if (namedCaptures !== undefined) push(replacerArgs, namedCaptures);\n          var replacement = toString(apply(replaceValue, undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += stringSlice(S, nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + stringSlice(S, nextSourcePosition);\n    }\n  ];\n}, !REPLACE_SUPPORTS_NAMED_GROUPS || !REPLACE_KEEPS_$0 || REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);\n","/*!\n * Name: vue-upload-component\n * Version: 2.8.21\n * Author: Marco Lang\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.VueUploadComponent = factory());\n}(this, (function () { 'use strict';\n\n  /**\n   * Creates a XHR request\n   *\n   * @param {Object} options\n   */\n  var createRequest = function createRequest(options) {\n    var xhr = new XMLHttpRequest();\n    xhr.open(options.method || 'GET', options.url);\n    xhr.responseType = 'json';\n    if (options.headers) {\n      Object.keys(options.headers).forEach(function (key) {\n        xhr.setRequestHeader(key, options.headers[key]);\n      });\n    }\n\n    return xhr;\n  };\n\n  /**\n   * Sends a XHR request with certain body\n   *\n   * @param {XMLHttpRequest} xhr\n   * @param {Object} body\n   */\n  var sendRequest = function sendRequest(xhr, body) {\n    return new Promise(function (resolve, reject) {\n      xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 300) {\n          var response;\n          try {\n            response = JSON.parse(xhr.response);\n          } catch (err) {\n            response = xhr.response;\n          }\n          resolve(response);\n        } else {\n          reject(xhr.response);\n        }\n      };\n      xhr.onerror = function () {\n        return reject(xhr.response);\n      };\n      xhr.send(JSON.stringify(body));\n    });\n  };\n\n  /**\n   * Sends a XHR request with certain form data\n   *\n   * @param {XMLHttpRequest} xhr\n   * @param {Object} data\n   */\n  var sendFormRequest = function sendFormRequest(xhr, data) {\n    var body = new FormData();\n    for (var name in data) {\n      body.append(name, data[name]);\n    }\n\n    return new Promise(function (resolve, reject) {\n      xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 300) {\n          var response;\n          try {\n            response = JSON.parse(xhr.response);\n          } catch (err) {\n            response = xhr.response;\n          }\n          resolve(response);\n        } else {\n          reject(xhr.response);\n        }\n      };\n      xhr.onerror = function () {\n        return reject(xhr.response);\n      };\n      xhr.send(body);\n    });\n  };\n\n  /**\n   * Creates and sends XHR request\n   *\n   * @param {Object} options\n   *\n   * @returns Promise\n   */\n  function request (options) {\n    var xhr = createRequest(options);\n\n    return sendRequest(xhr, options.body);\n  }\n\n  var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  var ChunkUploadHandler = function () {\n    /**\n     * Constructor\n     *\n     * @param {File} file\n     * @param {Object} options\n     */\n    function ChunkUploadHandler(file, options) {\n      _classCallCheck(this, ChunkUploadHandler);\n\n      this.file = file;\n      this.options = options;\n      this.chunks = [];\n      this.sessionId = null;\n      this.chunkSize = null;\n      this.speedInterval = null;\n    }\n\n    /**\n     * Gets the max retries from options\n     */\n\n\n    _createClass(ChunkUploadHandler, [{\n      key: 'createChunks',\n\n\n      /**\n       * Creates all the chunks in the initial state\n       */\n      value: function createChunks() {\n        this.chunks = [];\n\n        var start = 0;\n        var end = this.chunkSize;\n        while (start < this.fileSize) {\n          this.chunks.push({\n            blob: this.file.file.slice(start, end),\n            startOffset: start,\n            active: false,\n            retries: this.maxRetries\n          });\n          start = end;\n          end = start + this.chunkSize;\n        }\n      }\n\n      /**\n       * Updates the progress of the file with the handler's progress\n       */\n\n    }, {\n      key: 'updateFileProgress',\n      value: function updateFileProgress() {\n        this.file.progress = this.progress;\n      }\n\n      /**\n       * Paues the upload process\n       * - Stops all active requests\n       * - Sets the file not active\n       */\n\n    }, {\n      key: 'pause',\n      value: function pause() {\n        this.file.active = false;\n        this.stopChunks();\n      }\n\n      /**\n       * Stops all the current chunks\n       */\n\n    }, {\n      key: 'stopChunks',\n      value: function stopChunks() {\n        this.chunksUploading.forEach(function (chunk) {\n          chunk.xhr.abort();\n          chunk.active = false;\n        });\n\n        this.stopSpeedCalc();\n      }\n\n      /**\n       * Resumes the file upload\n       * - Sets the file active\n       * - Starts the following chunks\n       */\n\n    }, {\n      key: 'resume',\n      value: function resume() {\n        this.file.active = true;\n        this.startChunking();\n      }\n\n      /**\n       * Starts the file upload\n       *\n       * @returns Promise\n       * - resolve  The file was uploaded\n       * - reject   The file upload failed\n       */\n\n    }, {\n      key: 'upload',\n      value: function upload() {\n        var _this = this;\n\n        this.promise = new Promise(function (resolve, reject) {\n          _this.resolve = resolve;\n          _this.reject = reject;\n        });\n        this.start();\n\n        return this.promise;\n      }\n\n      /**\n       * Start phase\n       * Sends a request to the backend to initialise the chunks\n       */\n\n    }, {\n      key: 'start',\n      value: function start() {\n        var _this2 = this;\n\n        request({\n          method: 'POST',\n          headers: Object.assign({}, this.headers, {\n            'Content-Type': 'application/json'\n          }),\n          url: this.action,\n          body: Object.assign(this.startBody, {\n            phase: 'start',\n            mime_type: this.fileType,\n            size: this.fileSize,\n            name: this.fileName\n          })\n        }).then(function (res) {\n          if (res.status !== 'success') {\n            _this2.file.response = res;\n            return _this2.reject('server');\n          }\n\n          _this2.sessionId = res.data.session_id;\n          _this2.chunkSize = res.data.end_offset;\n\n          _this2.createChunks();\n          _this2.startChunking();\n        }).catch(function (res) {\n          _this2.file.response = res;\n          _this2.reject('server');\n        });\n      }\n\n      /**\n       * Starts to upload chunks\n       */\n\n    }, {\n      key: 'startChunking',\n      value: function startChunking() {\n        for (var i = 0; i < this.maxActiveChunks; i++) {\n          this.uploadNextChunk();\n        }\n\n        this.startSpeedCalc();\n      }\n\n      /**\n       * Uploads the next chunk\n       * - Won't do anything if the process is paused\n       * - Will start finish phase if there are no more chunks to upload\n       */\n\n    }, {\n      key: 'uploadNextChunk',\n      value: function uploadNextChunk() {\n        if (this.file.active) {\n          if (this.hasChunksToUpload) {\n            return this.uploadChunk(this.chunksToUpload[0]);\n          }\n\n          if (this.chunksUploading.length === 0) {\n            return this.finish();\n          }\n        }\n      }\n\n      /**\n       * Uploads a chunk\n       * - Sends the chunk to the backend\n       * - Sets the chunk as uploaded if everything went well\n       * - Decreases the number of retries if anything went wrong\n       * - Fails if there are no more retries\n       *\n       * @param {Object} chunk\n       */\n\n    }, {\n      key: 'uploadChunk',\n      value: function uploadChunk(chunk) {\n        var _this3 = this;\n\n        chunk.progress = 0;\n        chunk.active = true;\n        this.updateFileProgress();\n        chunk.xhr = createRequest({\n          method: 'POST',\n          headers: this.headers,\n          url: this.action\n        });\n\n        chunk.xhr.upload.addEventListener('progress', function (evt) {\n          if (evt.lengthComputable) {\n            chunk.progress = Math.round(evt.loaded / evt.total * 100);\n          }\n        }, false);\n\n        sendFormRequest(chunk.xhr, Object.assign(this.uploadBody, {\n          phase: 'upload',\n          session_id: this.sessionId,\n          start_offset: chunk.startOffset,\n          chunk: chunk.blob\n        })).then(function (res) {\n          chunk.active = false;\n          if (res.status === 'success') {\n            chunk.uploaded = true;\n          } else {\n            if (chunk.retries-- <= 0) {\n              _this3.stopChunks();\n              return _this3.reject('upload');\n            }\n          }\n\n          _this3.uploadNextChunk();\n        }).catch(function () {\n          chunk.active = false;\n          if (chunk.retries-- <= 0) {\n            _this3.stopChunks();\n            return _this3.reject('upload');\n          }\n\n          _this3.uploadNextChunk();\n        });\n      }\n\n      /**\n       * Finish phase\n       * Sends a request to the backend to finish the process\n       */\n\n    }, {\n      key: 'finish',\n      value: function finish() {\n        var _this4 = this;\n\n        this.updateFileProgress();\n        this.stopSpeedCalc();\n\n        request({\n          method: 'POST',\n          headers: Object.assign({}, this.headers, {\n            'Content-Type': 'application/json'\n          }),\n          url: this.action,\n          body: Object.assign(this.finishBody, {\n            phase: 'finish',\n            session_id: this.sessionId\n          })\n        }).then(function (res) {\n          _this4.file.response = res;\n          if (res.status !== 'success') {\n            return _this4.reject('server');\n          }\n\n          _this4.resolve(res);\n        }).catch(function (res) {\n          _this4.file.response = res;\n          _this4.reject('server');\n        });\n      }\n\n      /**\n       * Sets an interval to calculate and\n       * set upload speed every 3 seconds\n       */\n\n    }, {\n      key: 'startSpeedCalc',\n      value: function startSpeedCalc() {\n        var _this5 = this;\n\n        this.file.speed = 0;\n        var lastUploadedBytes = 0;\n        if (!this.speedInterval) {\n          this.speedInterval = window.setInterval(function () {\n            var uploadedBytes = _this5.progress / 100 * _this5.fileSize;\n            _this5.file.speed = uploadedBytes - lastUploadedBytes;\n            lastUploadedBytes = uploadedBytes;\n          }, 1000);\n        }\n      }\n\n      /**\n       * Removes the upload speed interval\n       */\n\n    }, {\n      key: 'stopSpeedCalc',\n      value: function stopSpeedCalc() {\n        this.speedInterval && window.clearInterval(this.speedInterval);\n        this.speedInterval = null;\n        this.file.speed = 0;\n      }\n    }, {\n      key: 'maxRetries',\n      get: function get() {\n        return parseInt(this.options.maxRetries, 10);\n      }\n\n      /**\n       * Gets the max number of active chunks being uploaded at once from options\n       */\n\n    }, {\n      key: 'maxActiveChunks',\n      get: function get() {\n        return parseInt(this.options.maxActive, 10);\n      }\n\n      /**\n       * Gets the file type\n       */\n\n    }, {\n      key: 'fileType',\n      get: function get() {\n        return this.file.type;\n      }\n\n      /**\n       * Gets the file size\n       */\n\n    }, {\n      key: 'fileSize',\n      get: function get() {\n        return this.file.size;\n      }\n\n      /**\n       * Gets the file name\n       */\n\n    }, {\n      key: 'fileName',\n      get: function get() {\n        return this.file.name;\n      }\n\n      /**\n       * Gets action (url) to upload the file\n       */\n\n    }, {\n      key: 'action',\n      get: function get() {\n        return this.options.action || null;\n      }\n\n      /**\n       * Gets the body to be merged when sending the request in start phase\n       */\n\n    }, {\n      key: 'startBody',\n      get: function get() {\n        return this.options.startBody || {};\n      }\n\n      /**\n       * Gets the body to be merged when sending the request in upload phase\n       */\n\n    }, {\n      key: 'uploadBody',\n      get: function get() {\n        return this.options.uploadBody || {};\n      }\n\n      /**\n       * Gets the body to be merged when sending the request in finish phase\n       */\n\n    }, {\n      key: 'finishBody',\n      get: function get() {\n        return this.options.finishBody || {};\n      }\n\n      /**\n       * Gets the headers of the requests from options\n       */\n\n    }, {\n      key: 'headers',\n      get: function get() {\n        return this.options.headers || {};\n      }\n\n      /**\n       * Whether it's ready to upload files or not\n       */\n\n    }, {\n      key: 'readyToUpload',\n      get: function get() {\n        return !!this.chunks;\n      }\n\n      /**\n       * Gets the progress of the chunk upload\n       * - Gets all the completed chunks\n       * - Gets the progress of all the chunks that are being uploaded\n       */\n\n    }, {\n      key: 'progress',\n      get: function get() {\n        var _this6 = this;\n\n        var completedProgress = this.chunksUploaded.length / this.chunks.length * 100;\n        var uploadingProgress = this.chunksUploading.reduce(function (progress, chunk) {\n          return progress + (chunk.progress | 0) / _this6.chunks.length;\n        }, 0);\n\n        return Math.min(completedProgress + uploadingProgress, 100);\n      }\n\n      /**\n       * Gets all the chunks that are pending to be uploaded\n       */\n\n    }, {\n      key: 'chunksToUpload',\n      get: function get() {\n        return this.chunks.filter(function (chunk) {\n          return !chunk.active && !chunk.uploaded;\n        });\n      }\n\n      /**\n       * Whether there are chunks to upload or not\n       */\n\n    }, {\n      key: 'hasChunksToUpload',\n      get: function get() {\n        return this.chunksToUpload.length > 0;\n      }\n\n      /**\n       * Gets all the chunks that are uploading\n       */\n\n    }, {\n      key: 'chunksUploading',\n      get: function get() {\n        return this.chunks.filter(function (chunk) {\n          return !!chunk.xhr && !!chunk.active;\n        });\n      }\n\n      /**\n       * Gets all the chunks that have finished uploading\n       */\n\n    }, {\n      key: 'chunksUploaded',\n      get: function get() {\n        return this.chunks.filter(function (chunk) {\n          return !!chunk.uploaded;\n        });\n      }\n    }]);\n\n    return ChunkUploadHandler;\n  }();\n\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n  //\n\n  var script = {\n    methods: {\n      change: function change(e) {\n        this.$parent.addInputFile(e.target);\n        if (e.target.files) {\n          e.target.value = '';\n          if (e.target.files.length && !/safari/i.test(navigator.userAgent)) {\n            e.target.type = '';\n            e.target.type = 'file';\n          }\n        } else {\n          // ie9 fix #219\n          this.$destroy();\n          // eslint-disable-next-line\n          new this.constructor({\n            parent: this.$parent,\n            el: this.$el\n          });\n        }\n      }\n    }\n  };\n\n  function normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier\n  /* server only */\n  , shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\n    if (typeof shadowMode !== 'boolean') {\n      createInjectorSSR = createInjector;\n      createInjector = shadowMode;\n      shadowMode = false;\n    } // Vue.extend constructor export interop.\n\n\n    var options = typeof script === 'function' ? script.options : script; // render functions\n\n    if (template && template.render) {\n      options.render = template.render;\n      options.staticRenderFns = template.staticRenderFns;\n      options._compiled = true; // functional template\n\n      if (isFunctionalTemplate) {\n        options.functional = true;\n      }\n    } // scopedId\n\n\n    if (scopeId) {\n      options._scopeId = scopeId;\n    }\n\n    var hook;\n\n    if (moduleIdentifier) {\n      // server build\n      hook = function hook(context) {\n        // 2.3 injection\n        context = context || // cached call\n        this.$vnode && this.$vnode.ssrContext || // stateful\n        this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext; // functional\n        // 2.2 with runInNewContext: true\n\n        if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n          context = __VUE_SSR_CONTEXT__;\n        } // inject component styles\n\n\n        if (style) {\n          style.call(this, createInjectorSSR(context));\n        } // register component module identifier for async chunk inference\n\n\n        if (context && context._registeredComponents) {\n          context._registeredComponents.add(moduleIdentifier);\n        }\n      }; // used by ssr in case component is cached and beforeCreate\n      // never gets called\n\n\n      options._ssrRegister = hook;\n    } else if (style) {\n      hook = shadowMode ? function () {\n        style.call(this, createInjectorShadow(this.$root.$options.shadowRoot));\n      } : function (context) {\n        style.call(this, createInjector(context));\n      };\n    }\n\n    if (hook) {\n      if (options.functional) {\n        // register for functional component in vue file\n        var originalRender = options.render;\n\n        options.render = function renderWithStyleInjection(h, context) {\n          hook.call(context);\n          return originalRender(h, context);\n        };\n      } else {\n        // inject component registration as beforeCreate hook\n        var existing = options.beforeCreate;\n        options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n      }\n    }\n\n    return script;\n  }\n\n  var normalizeComponent_1 = normalizeComponent;\n\n  /* script */\n  var __vue_script__ = script;\n\n  /* template */\n  var __vue_render__ = function __vue_render__() {\n    var _vm = this;var _h = _vm.$createElement;var _c = _vm._self._c || _h;return _c('input', { attrs: { \"type\": \"file\", \"name\": _vm.$parent.name, \"id\": _vm.$parent.inputId || _vm.$parent.name, \"accept\": _vm.$parent.accept, \"capture\": _vm.$parent.capture, \"disabled\": _vm.$parent.disabled, \"webkitdirectory\": _vm.$parent.directory && _vm.$parent.features.directory, \"directory\": _vm.$parent.directory && _vm.$parent.features.directory, \"multiple\": _vm.$parent.multiple && _vm.$parent.features.html5 }, on: { \"change\": _vm.change } });\n  };\n  var __vue_staticRenderFns__ = [];\n\n  /* style */\n  var __vue_inject_styles__ = undefined;\n  /* scoped */\n  var __vue_scope_id__ = undefined;\n  /* module identifier */\n  var __vue_module_identifier__ = undefined;\n  /* functional template */\n  var __vue_is_functional_template__ = false;\n  /* style inject */\n\n  /* style inject SSR */\n\n  var InputFile = normalizeComponent_1({ render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ }, __vue_inject_styles__, __vue_script__, __vue_scope_id__, __vue_is_functional_template__, __vue_module_identifier__, undefined, undefined);\n\n  var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n  function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n  var CHUNK_DEFAULT_OPTIONS = {\n    headers: {},\n    action: '',\n    minSize: 1048576,\n    maxActive: 3,\n    maxRetries: 5,\n\n    handler: ChunkUploadHandler\n  };\n\n  var script$1 = {\n    components: {\n      InputFile: InputFile\n    },\n    props: {\n      inputId: {\n        type: String\n      },\n\n      name: {\n        type: String,\n        default: 'file'\n      },\n\n      accept: {\n        type: String\n      },\n\n      capture: {},\n\n      disabled: {},\n\n      multiple: {\n        type: Boolean\n      },\n\n      maximum: {\n        type: Number,\n        default: function _default() {\n          return this.multiple ? 0 : 1;\n        }\n      },\n\n      addIndex: {\n        type: [Boolean, Number]\n      },\n\n      directory: {\n        type: Boolean\n      },\n\n      postAction: {\n        type: String\n      },\n\n      putAction: {\n        type: String\n      },\n\n      customAction: {\n        type: Function\n      },\n\n      headers: {\n        type: Object,\n        default: Object\n      },\n\n      data: {\n        type: Object,\n        default: Object\n      },\n\n      timeout: {\n        type: Number,\n        default: 0\n      },\n\n      drop: {\n        default: false\n      },\n\n      dropDirectory: {\n        type: Boolean,\n        default: true\n      },\n\n      size: {\n        type: Number,\n        default: 0\n      },\n\n      extensions: {\n        default: Array\n      },\n\n      value: {\n        type: Array,\n        default: Array\n      },\n\n      thread: {\n        type: Number,\n        default: 1\n      },\n\n      // Chunk upload enabled\n      chunkEnabled: {\n        type: Boolean,\n        default: false\n      },\n\n      // Chunk upload properties\n      chunk: {\n        type: Object,\n        default: function _default() {\n          return CHUNK_DEFAULT_OPTIONS;\n        }\n      }\n    },\n\n    data: function data() {\n      return {\n        files: this.value,\n        features: {\n          html5: true,\n          directory: false,\n          drop: false\n        },\n\n        active: false,\n        dropActive: false,\n\n        uploading: 0,\n\n        destroy: false\n      };\n    },\n\n\n    /**\n     * mounted\n     * @return {[type]} [description]\n     */\n    mounted: function mounted() {\n      var input = document.createElement('input');\n      input.type = 'file';\n      input.multiple = true;\n\n      // html5 特征\n      if (window.FormData && input.files) {\n        // 上传目录特征\n        if (typeof input.webkitdirectory === 'boolean' || typeof input.directory === 'boolean') {\n          this.features.directory = true;\n        }\n\n        // 拖拽特征\n        if (this.features.html5 && typeof input.ondrop !== 'undefined') {\n          this.features.drop = true;\n        }\n      } else {\n        this.features.html5 = false;\n      }\n\n      // files 定位缓存\n      this.maps = {};\n      if (this.files) {\n        for (var i = 0; i < this.files.length; i++) {\n          var file = this.files[i];\n          this.maps[file.id] = file;\n        }\n      }\n\n      this.$nextTick(function () {\n        var _this = this;\n\n        // 更新下父级\n        if (this.$parent) {\n          this.$parent.$forceUpdate();\n          // 拖拽渲染\n          this.$parent.$nextTick(function () {\n            _this.watchDrop(_this.drop);\n          });\n        } else {\n          // 拖拽渲染\n          this.watchDrop(this.drop);\n        }\n      });\n    },\n\n\n    /**\n     * beforeDestroy\n     * @return {[type]} [description]\n     */\n    beforeDestroy: function beforeDestroy() {\n      // 已销毁\n      this.destroy = true;\n\n      // 设置成不激活\n      this.active = false;\n\n      // 销毁拖拽事件\n      this.watchDrop(false);\n    },\n\n\n    computed: {\n      /**\n       * uploading 正在上传的线程\n       * @return {[type]} [description]\n       */\n\n      /**\n       * uploaded 文件列表是否全部已上传\n       * @return {[type]} [description]\n       */\n      uploaded: function uploaded() {\n        var file = void 0;\n        for (var i = 0; i < this.files.length; i++) {\n          file = this.files[i];\n          if (file.fileObject && !file.error && !file.success) {\n            return false;\n          }\n        }\n        return true;\n      },\n      chunkOptions: function chunkOptions() {\n        return Object.assign(CHUNK_DEFAULT_OPTIONS, this.chunk);\n      },\n      className: function className() {\n        return ['file-uploads', this.features.html5 ? 'file-uploads-html5' : 'file-uploads-html4', this.features.directory && this.directory ? 'file-uploads-directory' : undefined, this.features.drop && this.drop ? 'file-uploads-drop' : undefined, this.disabled ? 'file-uploads-disabled' : undefined];\n      }\n    },\n\n    watch: {\n      active: function active(_active) {\n        this.watchActive(_active);\n      },\n      dropActive: function dropActive() {\n        if (this.$parent) {\n          this.$parent.$forceUpdate();\n        }\n      },\n      drop: function drop(value) {\n        this.watchDrop(value);\n      },\n      value: function value(files) {\n        if (this.files === files) {\n          return;\n        }\n        this.files = files;\n\n        var oldMaps = this.maps;\n\n        // 重写 maps 缓存\n        this.maps = {};\n        for (var i = 0; i < this.files.length; i++) {\n          var file = this.files[i];\n          this.maps[file.id] = file;\n        }\n\n        // add, update\n        for (var key in this.maps) {\n          var newFile = this.maps[key];\n          var oldFile = oldMaps[key];\n          if (newFile !== oldFile) {\n            this.emitFile(newFile, oldFile);\n          }\n        }\n\n        // delete\n        for (var _key in oldMaps) {\n          if (!this.maps[_key]) {\n            this.emitFile(undefined, oldMaps[_key]);\n          }\n        }\n      }\n    },\n\n    methods: {\n\n      // 清空\n      clear: function clear() {\n        if (this.files.length) {\n          var files = this.files;\n          this.files = [];\n\n          // 定位\n          this.maps = {};\n\n          // 事件\n          this.emitInput();\n          for (var i = 0; i < files.length; i++) {\n            this.emitFile(undefined, files[i]);\n          }\n        }\n        return true;\n      },\n\n\n      // 选择\n      get: function get(id) {\n        if (!id) {\n          return false;\n        }\n\n        if ((typeof id === 'undefined' ? 'undefined' : _typeof(id)) === 'object') {\n          return this.maps[id.id] || false;\n        }\n\n        return this.maps[id] || false;\n      },\n\n\n      // 添加\n      add: function add(_files) {\n        var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.addIndex;\n\n        var files = _files;\n        var isArray = files instanceof Array;\n\n        // 不是数组整理成数组\n        if (!isArray) {\n          files = [files];\n        }\n\n        // 遍历规范对象\n        var addFiles = [];\n        for (var i = 0; i < files.length; i++) {\n          var file = files[i];\n          if (this.features.html5 && file instanceof Blob) {\n            file = {\n              file: file,\n              size: file.size,\n              name: file.webkitRelativePath || file.relativePath || file.name || 'unknown',\n              type: file.type\n            };\n          }\n          var fileObject = false;\n          if (file.fileObject === false) ; else if (file.fileObject) {\n            fileObject = true;\n          } else if (typeof Element !== 'undefined' && file.el instanceof Element) {\n            fileObject = true;\n          } else if (typeof Blob !== 'undefined' && file.file instanceof Blob) {\n            fileObject = true;\n          }\n          if (fileObject) {\n            file = _extends({\n              fileObject: true,\n              size: -1,\n              name: 'Filename',\n              type: '',\n              active: false,\n              error: '',\n              success: false,\n              putAction: this.putAction,\n              postAction: this.postAction,\n              timeout: this.timeout\n            }, file, {\n              response: {},\n\n              progress: '0.00', // 只读\n              speed: 0 // 只读\n              // xhr: false,                // 只读\n              // iframe: false,             // 只读\n            });\n\n            file.data = _extends({}, this.data, file.data ? file.data : {});\n\n            file.headers = _extends({}, this.headers, file.headers ? file.headers : {});\n          }\n\n          // 必须包含 id\n          if (!file.id) {\n            file.id = Math.random().toString(36).substr(2);\n          }\n\n          if (this.emitFilter(file, undefined)) {\n            continue;\n          }\n\n          // 最大数量限制\n          if (this.maximum > 1 && addFiles.length + this.files.length >= this.maximum) {\n            break;\n          }\n\n          addFiles.push(file);\n\n          // 最大数量限制\n          if (this.maximum === 1) {\n            break;\n          }\n        }\n\n        // 没有文件\n        if (!addFiles.length) {\n          return false;\n        }\n\n        // 如果是 1 清空\n        if (this.maximum === 1) {\n          this.clear();\n        }\n\n        // 添加进去 files\n        var newFiles = void 0;\n        if (index === true || index === 0) {\n          newFiles = addFiles.concat(this.files);\n        } else if (index) {\n          var _newFiles;\n\n          newFiles = this.files.concat([]);\n          (_newFiles = newFiles).splice.apply(_newFiles, [index, 0].concat(addFiles));\n        } else {\n          newFiles = this.files.concat(addFiles);\n        }\n\n        this.files = newFiles;\n\n        // 定位\n        for (var _i = 0; _i < addFiles.length; _i++) {\n          var _file2 = addFiles[_i];\n          this.maps[_file2.id] = _file2;\n        }\n\n        // 事件\n        this.emitInput();\n        for (var _i2 = 0; _i2 < addFiles.length; _i2++) {\n          this.emitFile(addFiles[_i2], undefined);\n        }\n\n        return isArray ? addFiles : addFiles[0];\n      },\n\n\n      // 添加表单文件\n      addInputFile: function addInputFile(el) {\n        var files = [];\n        if (el.files) {\n          for (var i = 0; i < el.files.length; i++) {\n            var file = el.files[i];\n            files.push({\n              size: file.size,\n              name: file.webkitRelativePath || file.relativePath || file.name,\n              type: file.type,\n              file: file\n            });\n          }\n        } else {\n          var names = el.value.replace(/\\\\/g, '/').split('/');\n          delete el.__vuex__;\n          files.push({\n            name: names[names.length - 1],\n            el: el\n          });\n        }\n        return this.add(files);\n      },\n\n\n      // 添加 DataTransfer\n      addDataTransfer: function addDataTransfer(dataTransfer) {\n        var _this2 = this;\n\n        var files = [];\n        if (dataTransfer.items && dataTransfer.items.length) {\n          var items = [];\n          for (var i = 0; i < dataTransfer.items.length; i++) {\n            var item = dataTransfer.items[i];\n            if (item.getAsEntry) {\n              item = item.getAsEntry() || item.getAsFile();\n            } else if (item.webkitGetAsEntry) {\n              item = item.webkitGetAsEntry() || item.getAsFile();\n            } else {\n              item = item.getAsFile();\n            }\n            if (item) {\n              items.push(item);\n            }\n          }\n\n          return new Promise(function (resolve, reject) {\n            var forEach = function forEach(i) {\n              var item = items[i];\n              // 结束 文件数量大于 最大数量\n              if (!item || _this2.maximum > 0 && files.length >= _this2.maximum) {\n                return resolve(_this2.add(files));\n              }\n              _this2.getEntry(item).then(function (results) {\n                files.push.apply(files, _toConsumableArray(results));\n                forEach(i + 1);\n              });\n            };\n            forEach(0);\n          });\n        }\n\n        if (dataTransfer.files.length) {\n          for (var _i3 = 0; _i3 < dataTransfer.files.length; _i3++) {\n            files.push(dataTransfer.files[_i3]);\n            if (this.maximum > 0 && files.length >= this.maximum) {\n              break;\n            }\n          }\n          return Promise.resolve(this.add(files));\n        }\n\n        return Promise.resolve([]);\n      },\n\n\n      // 获得 entry\n      getEntry: function getEntry(entry) {\n        var _this3 = this;\n\n        var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n        return new Promise(function (resolve, reject) {\n          if (entry.isFile) {\n            entry.file(function (file) {\n              resolve([{\n                size: file.size,\n                name: path + file.name,\n                type: file.type,\n                file: file\n              }]);\n            });\n          } else if (entry.isDirectory && _this3.dropDirectory) {\n            var files = [];\n            var dirReader = entry.createReader();\n            var readEntries = function readEntries() {\n              dirReader.readEntries(function (entries) {\n                var forEach = function forEach(i) {\n                  if (!entries[i] && i === 0 || _this3.maximum > 0 && files.length >= _this3.maximum) {\n                    return resolve(files);\n                  }\n                  if (!entries[i]) {\n                    return readEntries();\n                  }\n                  _this3.getEntry(entries[i], path + entry.name + '/').then(function (results) {\n                    files.push.apply(files, _toConsumableArray(results));\n                    forEach(i + 1);\n                  });\n                };\n                forEach(0);\n              });\n            };\n            readEntries();\n          } else {\n            resolve([]);\n          }\n        });\n      },\n      replace: function replace(id1, id2) {\n        var file1 = this.get(id1);\n        var file2 = this.get(id2);\n        if (!file1 || !file2 || file1 === file2) {\n          return false;\n        }\n        var files = this.files.concat([]);\n        var index1 = files.indexOf(file1);\n        var index2 = files.indexOf(file2);\n        if (index1 === -1 || index2 === -1) {\n          return false;\n        }\n        files[index1] = file2;\n        files[index2] = file1;\n        this.files = files;\n        this.emitInput();\n        return true;\n      },\n\n\n      // 移除\n      remove: function remove(id) {\n        var file = this.get(id);\n        if (file) {\n          if (this.emitFilter(undefined, file)) {\n            return false;\n          }\n          var files = this.files.concat([]);\n          var index = files.indexOf(file);\n          if (index === -1) {\n            console.error('remove', file);\n            return false;\n          }\n          files.splice(index, 1);\n          this.files = files;\n\n          // 定位\n          delete this.maps[file.id];\n\n          // 事件\n          this.emitInput();\n          this.emitFile(undefined, file);\n        }\n        return file;\n      },\n\n\n      // 更新\n      update: function update(id, data) {\n        var file = this.get(id);\n        if (file) {\n          var newFile = _extends({}, file, data);\n          // 停用必须加上错误\n          if (file.fileObject && file.active && !newFile.active && !newFile.error && !newFile.success) {\n            newFile.error = 'abort';\n          }\n\n          if (this.emitFilter(newFile, file)) {\n            return false;\n          }\n\n          var files = this.files.concat([]);\n          var index = files.indexOf(file);\n          if (index === -1) {\n            console.error('update', file);\n            return false;\n          }\n          files.splice(index, 1, newFile);\n          this.files = files;\n\n          // 删除  旧定位 写入 新定位 （已便支持修改id)\n          delete this.maps[file.id];\n          this.maps[newFile.id] = newFile;\n\n          // 事件\n          this.emitInput();\n          this.emitFile(newFile, file);\n          return newFile;\n        }\n        return false;\n      },\n\n\n      // 预处理 事件 过滤器\n      emitFilter: function emitFilter(newFile, oldFile) {\n        var isPrevent = false;\n        this.$emit('input-filter', newFile, oldFile, function () {\n          isPrevent = true;\n          return isPrevent;\n        });\n        return isPrevent;\n      },\n\n\n      // 处理后 事件 分发\n      emitFile: function emitFile(newFile, oldFile) {\n        this.$emit('input-file', newFile, oldFile);\n        if (newFile && newFile.fileObject && newFile.active && (!oldFile || !oldFile.active)) {\n          this.uploading++;\n          // 激活\n          this.$nextTick(function () {\n            var _this4 = this;\n\n            setTimeout(function () {\n              _this4.upload(newFile).then(function () {\n                // eslint-disable-next-line\n                newFile = _this4.get(newFile);\n                if (newFile && newFile.fileObject) {\n                  _this4.update(newFile, {\n                    active: false,\n                    success: !newFile.error\n                  });\n                }\n              }).catch(function (e) {\n                _this4.update(newFile, {\n                  active: false,\n                  success: false,\n                  error: e.code || e.error || e.message || e\n                });\n              });\n            }, parseInt(Math.random() * 50 + 50, 10));\n          });\n        } else if ((!newFile || !newFile.fileObject || !newFile.active) && oldFile && oldFile.fileObject && oldFile.active) {\n          // 停止\n          this.uploading--;\n        }\n\n        // 自动延续激活\n        if (this.active && (Boolean(newFile) !== Boolean(oldFile) || newFile.active !== oldFile.active)) {\n          this.watchActive(true);\n        }\n      },\n      emitInput: function emitInput() {\n        this.$emit('input', this.files);\n      },\n\n\n      // 上传\n      upload: function upload(id) {\n        var file = this.get(id);\n\n        // 被删除\n        if (!file) {\n          return Promise.reject('not_exists');\n        }\n\n        // 不是文件对象\n        if (!file.fileObject) {\n          return Promise.reject('file_object');\n        }\n\n        // 有错误直接响应\n        if (file.error) {\n          return Promise.reject(file.error);\n        }\n\n        // 已完成直接响应\n        if (file.success) {\n          return Promise.resolve(file);\n        }\n\n        // 后缀\n        var extensions = this.extensions;\n        if (extensions && (extensions.length || typeof extensions.length === 'undefined')) {\n          if ((typeof extensions === 'undefined' ? 'undefined' : _typeof(extensions)) !== 'object' || !(extensions instanceof RegExp)) {\n            if (typeof extensions === 'string') {\n              extensions = extensions.split(',').map(function (value) {\n                return value.trim();\n              }).filter(function (value) {\n                return value;\n              });\n            }\n            extensions = new RegExp('\\\\.(' + extensions.join('|').replace(/\\./g, '\\\\.') + ')$', 'i');\n          }\n          if (file.name.search(extensions) === -1) {\n            return Promise.reject('extension');\n          }\n        }\n\n        // 大小\n        if (this.size > 0 && file.size >= 0 && file.size > this.size) {\n          return Promise.reject('size');\n        }\n\n        if (this.customAction) {\n          return this.customAction(file, this);\n        }\n\n        if (this.features.html5) {\n          if (this.shouldUseChunkUpload(file)) {\n            return this.uploadChunk(file);\n          }\n          if (file.putAction) {\n            return this.uploadPut(file);\n          }\n          if (file.postAction) {\n            return this.uploadHtml5(file);\n          }\n        }\n        if (file.postAction) {\n          return this.uploadHtml4(file);\n        }\n        return Promise.reject('No action configured');\n      },\n\n\n      /**\n       * Whether this file should be uploaded using chunk upload or not\n       *\n       * @param Object file\n       */\n      shouldUseChunkUpload: function shouldUseChunkUpload(file) {\n        return this.chunkEnabled && !!this.chunkOptions.handler && file.size > this.chunkOptions.minSize;\n      },\n\n\n      /**\n       * Upload a file using Chunk method\n       *\n       * @param File file\n       */\n      uploadChunk: function uploadChunk(file) {\n        var HandlerClass = this.chunkOptions.handler;\n        file.chunk = new HandlerClass(file, this.chunkOptions);\n\n        return file.chunk.upload();\n      },\n      uploadPut: function uploadPut(file) {\n        var querys = [];\n        var value = void 0;\n        for (var key in file.data) {\n          value = file.data[key];\n          if (value !== null && value !== undefined) {\n            querys.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n          }\n        }\n        var queryString = querys.length ? (file.putAction.indexOf('?') === -1 ? '?' : '&') + querys.join('&') : '';\n        var xhr = new XMLHttpRequest();\n        xhr.open('PUT', file.putAction + queryString);\n        return this.uploadXhr(xhr, file, file.file);\n      },\n      uploadHtml5: function uploadHtml5(file) {\n        var form = new window.FormData();\n        var value = void 0;\n        for (var key in file.data) {\n          value = file.data[key];\n          if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && typeof value.toString !== 'function') {\n            if (value instanceof File) {\n              form.append(key, value, value.name);\n            } else {\n              form.append(key, JSON.stringify(value));\n            }\n          } else if (value !== null && value !== undefined) {\n            form.append(key, value);\n          }\n        }\n        form.append(this.name, file.file, file.file.filename || file.name);\n        var xhr = new XMLHttpRequest();\n        xhr.open('POST', file.postAction);\n        return this.uploadXhr(xhr, file, form);\n      },\n      uploadXhr: function uploadXhr(xhr, _file, body) {\n        var _this5 = this;\n\n        var file = _file;\n        var speedTime = 0;\n        var speedLoaded = 0;\n\n        // 进度条\n        xhr.upload.onprogress = function (e) {\n          // 还未开始上传 已删除 未激活\n          file = _this5.get(file);\n          if (!e.lengthComputable || !file || !file.fileObject || !file.active) {\n            return;\n          }\n\n          // 进度 速度 每秒更新一次\n          var speedTime2 = Math.round(Date.now() / 1000);\n          if (speedTime2 === speedTime) {\n            return;\n          }\n          speedTime = speedTime2;\n\n          file = _this5.update(file, {\n            progress: (e.loaded / e.total * 100).toFixed(2),\n            speed: e.loaded - speedLoaded\n          });\n          speedLoaded = e.loaded;\n        };\n\n        // 检查激活状态\n        var interval = setInterval(function () {\n          file = _this5.get(file);\n          if (file && file.fileObject && !file.success && !file.error && file.active) {\n            return;\n          }\n\n          if (interval) {\n            clearInterval(interval);\n            interval = false;\n          }\n\n          try {\n            xhr.abort();\n            xhr.timeout = 1;\n          } catch (e) {}\n        }, 100);\n\n        return new Promise(function (resolve, reject) {\n          var complete = void 0;\n          var fn = function fn(e) {\n            // 已经处理过了\n            if (complete) {\n              return;\n            }\n            complete = true;\n            if (interval) {\n              clearInterval(interval);\n              interval = false;\n            }\n\n            file = _this5.get(file);\n\n            // 不存在直接响应\n            if (!file) {\n              return reject('not_exists');\n            }\n\n            // 不是文件对象\n            if (!file.fileObject) {\n              return reject('file_object');\n            }\n\n            // 有错误自动响应\n            if (file.error) {\n              return reject(file.error);\n            }\n\n            // 未激活\n            if (!file.active) {\n              return reject('abort');\n            }\n\n            // 已完成 直接相应\n            if (file.success) {\n              return resolve(file);\n            }\n\n            var data = {};\n\n            switch (e.type) {\n              case 'timeout':\n              case 'abort':\n                data.error = e.type;\n                break;\n              case 'error':\n                if (!xhr.status) {\n                  data.error = 'network';\n                } else if (xhr.status >= 500) {\n                  data.error = 'server';\n                } else if (xhr.status >= 400) {\n                  data.error = 'denied';\n                }\n                break;\n              default:\n                if (xhr.status >= 500) {\n                  data.error = 'server';\n                } else if (xhr.status >= 400) {\n                  data.error = 'denied';\n                } else {\n                  data.progress = '100.00';\n                }\n            }\n\n            if (xhr.responseText) {\n              var contentType = xhr.getResponseHeader('Content-Type');\n              if (contentType && contentType.indexOf('/json') !== -1) {\n                data.response = JSON.parse(xhr.responseText);\n              } else {\n                data.response = xhr.responseText;\n              }\n            }\n\n            // 更新\n            file = _this5.update(file, data);\n\n            // 相应错误\n            if (file.error) {\n              return reject(file.error);\n            }\n\n            // 响应\n            return resolve(file);\n          };\n\n          // 事件\n          xhr.onload = fn;\n          xhr.onerror = fn;\n          xhr.onabort = fn;\n          xhr.ontimeout = fn;\n\n          // 超时\n          if (file.timeout) {\n            xhr.timeout = file.timeout;\n          }\n\n          // headers\n          for (var key in file.headers) {\n            xhr.setRequestHeader(key, file.headers[key]);\n          }\n\n          // 更新 xhr\n          file = _this5.update(file, { xhr: xhr });\n\n          // 开始上传\n          xhr.send(body);\n        });\n      },\n      uploadHtml4: function uploadHtml4(_file) {\n        var _this6 = this;\n\n        var file = _file;\n        var onKeydown = function onKeydown(e) {\n          if (e.keyCode === 27) {\n            e.preventDefault();\n          }\n        };\n\n        var iframe = document.createElement('iframe');\n        iframe.id = 'upload-iframe-' + file.id;\n        iframe.name = 'upload-iframe-' + file.id;\n        iframe.src = 'about:blank';\n        iframe.setAttribute('style', 'width:1px;height:1px;top:-999em;position:absolute; margin-top:-999em;');\n\n        var form = document.createElement('form');\n\n        form.action = file.postAction;\n\n        form.name = 'upload-form-' + file.id;\n\n        form.setAttribute('method', 'POST');\n        form.setAttribute('target', 'upload-iframe-' + file.id);\n        form.setAttribute('enctype', 'multipart/form-data');\n\n        var value = void 0;\n        var input = void 0;\n        for (var key in file.data) {\n          value = file.data[key];\n          if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && typeof value.toString !== 'function') {\n            value = JSON.stringify(value);\n          }\n          if (value !== null && value !== undefined) {\n            input = document.createElement('input');\n            input.type = 'hidden';\n            input.name = key;\n            input.value = value;\n            form.appendChild(input);\n          }\n        }\n        form.appendChild(file.el);\n\n        document.body.appendChild(iframe).appendChild(form);\n\n        var getResponseData = function getResponseData() {\n          var doc = void 0;\n          try {\n            if (iframe.contentWindow) {\n              doc = iframe.contentWindow.document;\n            }\n          } catch (err) {}\n          if (!doc) {\n            try {\n              doc = iframe.contentDocument ? iframe.contentDocument : iframe.document;\n            } catch (err) {\n              doc = iframe.document;\n            }\n          }\n          if (doc && doc.body) {\n            return doc.body.innerHTML;\n          }\n          return null;\n        };\n\n        return new Promise(function (resolve, reject) {\n          setTimeout(function () {\n            file = _this6.update(file, { iframe: iframe });\n\n            // 不存在\n            if (!file) {\n              return reject('not_exists');\n            }\n\n            // 定时检查\n            var interval = setInterval(function () {\n              file = _this6.get(file);\n              if (file && file.fileObject && !file.success && !file.error && file.active) {\n                return;\n              }\n\n              if (interval) {\n                clearInterval(interval);\n                interval = false;\n              }\n\n              iframe.onabort({ type: file ? 'abort' : 'not_exists' });\n            }, 100);\n\n            var complete = void 0;\n            var fn = function fn(e) {\n              // 已经处理过了\n              if (complete) {\n                return;\n              }\n              complete = true;\n\n              if (interval) {\n                clearInterval(interval);\n                interval = false;\n              }\n\n              // 关闭 esc 事件\n              document.body.removeEventListener('keydown', onKeydown);\n\n              file = _this6.get(file);\n\n              // 不存在直接响应\n              if (!file) {\n                return reject('not_exists');\n              }\n\n              // 不是文件对象\n              if (!file.fileObject) {\n                return reject('file_object');\n              }\n\n              // 有错误自动响应\n              if (file.error) {\n                return reject(file.error);\n              }\n\n              // 未激活\n              if (!file.active) {\n                return reject('abort');\n              }\n\n              // 已完成 直接相应\n              if (file.success) {\n                return resolve(file);\n              }\n\n              var response = getResponseData();\n              var data = {};\n              switch (e.type) {\n                case 'abort':\n                  data.error = 'abort';\n                  break;\n                case 'error':\n                  if (file.error) {\n                    data.error = file.error;\n                  } else if (response === null) {\n                    data.error = 'network';\n                  } else {\n                    data.error = 'denied';\n                  }\n                  break;\n                default:\n                  if (file.error) {\n                    data.error = file.error;\n                  } else if (data === null) {\n                    data.error = 'network';\n                  } else {\n                    data.progress = '100.00';\n                  }\n              }\n\n              if (response !== null) {\n                if (response && response.substr(0, 1) === '{' && response.substr(response.length - 1, 1) === '}') {\n                  try {\n                    response = JSON.parse(response);\n                  } catch (err) {}\n                }\n                data.response = response;\n              }\n\n              // 更新\n              file = _this6.update(file, data);\n\n              if (file.error) {\n                return reject(file.error);\n              }\n\n              // 响应\n              return resolve(file);\n            };\n\n            // 添加事件\n            iframe.onload = fn;\n            iframe.onerror = fn;\n            iframe.onabort = fn;\n\n            // 禁止 esc 键\n            document.body.addEventListener('keydown', onKeydown);\n\n            // 提交\n            form.submit();\n          }, 50);\n        }).then(function (res) {\n          iframe.parentNode && iframe.parentNode.removeChild(iframe);\n          return res;\n        }).catch(function (res) {\n          iframe.parentNode && iframe.parentNode.removeChild(iframe);\n          return res;\n        });\n      },\n      watchActive: function watchActive(active) {\n        var file = void 0;\n        var index = 0;\n        while (file = this.files[index]) {\n          index++;\n          if (!file.fileObject) ; else if (active && !this.destroy) {\n            if (this.uploading >= this.thread || this.uploading && !this.features.html5) {\n              break;\n            }\n            if (!file.active && !file.error && !file.success) {\n              this.update(file, { active: true });\n            }\n          } else {\n            if (file.active) {\n              this.update(file, { active: false });\n            }\n          }\n        }\n        if (this.uploading === 0) {\n          this.active = false;\n        }\n      },\n      watchDrop: function watchDrop(_el) {\n        var el = _el;\n        if (!this.features.drop) {\n          return;\n        }\n\n        // 移除挂载\n        if (this.dropElement) {\n          try {\n            document.removeEventListener('dragenter', this.onDragenter, false);\n            document.removeEventListener('dragleave', this.onDragleave, false);\n            document.removeEventListener('drop', this.onDocumentDrop, false);\n            this.dropElement.removeEventListener('dragover', this.onDragover, false);\n            this.dropElement.removeEventListener('drop', this.onDrop, false);\n          } catch (e) {}\n        }\n\n        if (!el) {\n          el = false;\n        } else if (typeof el === 'string') {\n          el = document.querySelector(el) || this.$root.$el.querySelector(el);\n        } else if (el === true) {\n          el = this.$parent.$el;\n        }\n\n        this.dropElement = el;\n\n        if (this.dropElement) {\n          document.addEventListener('dragenter', this.onDragenter, false);\n          document.addEventListener('dragleave', this.onDragleave, false);\n          document.addEventListener('drop', this.onDocumentDrop, false);\n          this.dropElement.addEventListener('dragover', this.onDragover, false);\n          this.dropElement.addEventListener('drop', this.onDrop, false);\n        }\n      },\n      onDragenter: function onDragenter(e) {\n        e.preventDefault();\n        if (this.dropActive) {\n          return;\n        }\n        if (!e.dataTransfer) {\n          return;\n        }\n        var dt = e.dataTransfer;\n        if (dt.files && dt.files.length) {\n          this.dropActive = true;\n        } else if (!dt.types) {\n          this.dropActive = true;\n        } else if (dt.types.indexOf && dt.types.indexOf('Files') !== -1) {\n          this.dropActive = true;\n        } else if (dt.types.contains && dt.types.contains('Files')) {\n          this.dropActive = true;\n        }\n      },\n      onDragleave: function onDragleave(e) {\n        e.preventDefault();\n        if (!this.dropActive) {\n          return;\n        }\n        if (e.target.nodeName === 'HTML' || e.target === e.explicitOriginalTarget || !e.fromElement && (e.clientX <= 0 || e.clientY <= 0 || e.clientX >= window.innerWidth || e.clientY >= window.innerHeight)) {\n          this.dropActive = false;\n        }\n      },\n      onDragover: function onDragover(e) {\n        e.preventDefault();\n      },\n      onDocumentDrop: function onDocumentDrop() {\n        this.dropActive = false;\n      },\n      onDrop: function onDrop(e) {\n        e.preventDefault();\n        this.addDataTransfer(e.dataTransfer);\n      }\n    }\n  };\n\n  var isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\n  function createInjector(context) {\n    return function (id, style) {\n      return addStyle(id, style);\n    };\n  }\n  var HEAD = document.head || document.getElementsByTagName('head')[0];\n  var styles = {};\n\n  function addStyle(id, css) {\n    var group = isOldIE ? css.media || 'default' : id;\n    var style = styles[group] || (styles[group] = {\n      ids: new Set(),\n      styles: []\n    });\n\n    if (!style.ids.has(id)) {\n      style.ids.add(id);\n      var code = css.source;\n\n      if (css.map) {\n        // https://developer.chrome.com/devtools/docs/javascript-debugging\n        // this makes source maps inside style tags work properly in Chrome\n        code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'; // http://stackoverflow.com/a/26603875\n\n        code += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) + ' */';\n      }\n\n      if (!style.element) {\n        style.element = document.createElement('style');\n        style.element.type = 'text/css';\n        if (css.media) style.element.setAttribute('media', css.media);\n        HEAD.appendChild(style.element);\n      }\n\n      if ('styleSheet' in style.element) {\n        style.styles.push(code);\n        style.element.styleSheet.cssText = style.styles.filter(Boolean).join('\\n');\n      } else {\n        var index = style.ids.size - 1;\n        var textNode = document.createTextNode(code);\n        var nodes = style.element.childNodes;\n        if (nodes[index]) style.element.removeChild(nodes[index]);\n        if (nodes.length) style.element.insertBefore(textNode, nodes[index]);else style.element.appendChild(textNode);\n      }\n    }\n  }\n\n  var browser = createInjector;\n\n  /* script */\n  var __vue_script__$1 = script$1;\n\n  /* template */\n  var __vue_render__$1 = function __vue_render__() {\n    var _vm = this;var _h = _vm.$createElement;var _c = _vm._self._c || _h;return _c('span', { class: _vm.className }, [_vm._t(\"default\"), _vm._v(\" \"), _c('label', { attrs: { \"for\": _vm.inputId || _vm.name } }), _vm._v(\" \"), _c('input-file')], 2);\n  };\n  var __vue_staticRenderFns__$1 = [];\n\n  /* style */\n  var __vue_inject_styles__$1 = function __vue_inject_styles__(inject) {\n    if (!inject) return;\n    inject(\"data-v-76d380b6_0\", { source: \".file-uploads{overflow:hidden;position:relative;text-align:center;display:inline-block}.file-uploads.file-uploads-html4 input,.file-uploads.file-uploads-html5 label{background:#fff;opacity:0;font-size:20em;z-index:1;top:0;left:0;right:0;bottom:0;position:absolute;width:100%;height:100%}.file-uploads.file-uploads-html4 label,.file-uploads.file-uploads-html5 input{background:rgba(255,255,255,0);overflow:hidden;position:fixed;width:1px;height:1px;z-index:-1;opacity:0}\", map: undefined, media: undefined });\n  };\n  /* scoped */\n  var __vue_scope_id__$1 = undefined;\n  /* module identifier */\n  var __vue_module_identifier__$1 = undefined;\n  /* functional template */\n  var __vue_is_functional_template__$1 = false;\n  /* style inject SSR */\n\n  var FileUpload = normalizeComponent_1({ render: __vue_render__$1, staticRenderFns: __vue_staticRenderFns__$1 }, __vue_inject_styles__$1, __vue_script__$1, __vue_scope_id__$1, __vue_is_functional_template__$1, __vue_module_identifier__$1, browser, undefined);\n\n  var FileUpload$1 = /*#__PURE__*/Object.freeze({\n    default: FileUpload\n  });\n\n  function getCjsExportFromNamespace (n) {\n  \treturn n && n['default'] || n;\n  }\n\n  var require$$0 = getCjsExportFromNamespace(FileUpload$1);\n\n  var src = require$$0;\n\n  return src;\n\n})));\n//# sourceMappingURL=vue-upload-component.js.map\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","datasetName","services","length","directives","name","rawName","value","$refs","upload","dropActive","expression","model","form","callback","$$v","$set","ref","postActionUrl","extensions","accept","multiple","directory","size","thread","headers","data","drop","dropDirectory","addIndex","active","on","$event","preventDefault","datasetTableFields","datasetTableItems","scopedSlots","_u","key","fn","readableFileSize","item","speed","getFileStatus","progress","response","tripleCount","success","error","update","remove","staticRenderFns","library","components","Menu","FontAwesomeIcon","FileUpload","mixins","currentDatasetMixin","datasetGraphName","datasetFiles","files","minSize","autoCompress","uploadAuto","isOption","label","sortable","sortDirection","computed","map","status","$fusekiService","getFusekiUrl","methods","file","console","m","component","charAt","module","exports","S","index","unicode","uncurryThis","redefine","regexpExec","fails","wellKnownSymbol","createNonEnumerableProperty","SPECIES","RegExpPrototype","RegExp","prototype","KEY","exec","FORCED","SHAM","SYMBOL","DELEGATES_TO_SYMBOL","O","DELEGATES_TO_EXEC","execCalled","re","constructor","flags","uncurriedNativeRegExpMethod","nativeMethod","regexp","str","arg2","forceStringMethod","uncurriedNativeMethod","$exec","done","String","toObject","floor","Math","replace","stringSlice","slice","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","matched","position","captures","namedCaptures","replacement","tailPos","symbols","undefined","match","ch","capture","n","f","global","call","anObject","isCallable","classof","TypeError","R","result","toString","regexpFlags","stickyHelpers","shared","create","getInternalState","UNSUPPORTED_DOT_ALL","UNSUPPORTED_NCG","nativeReplace","nativeExec","patchedExec","indexOf","UPDATES_LAST_INDEX_WRONG","re1","re2","lastIndex","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","PATCH","string","reCopy","i","object","group","state","raw","groups","sticky","source","charsAdded","strCopy","multiline","input","arguments","that","ignoreCase","dotAll","$RegExp","MISSED_STICKY","a","toIntegerOrInfinity","requireObjectCoercible","RangeError","count","Infinity","valueOf","$","thisNumberValue","$repeat","repeat","un$ToFixed","toFixed","pow","x","acc","log","x2","multiply","c","c2","divide","dataToString","s","t","target","proto","forced","fractionDigits","e","z","j","k","number","fractDigits","sign","apply","fixRegExpWellKnownSymbolLogic","toLength","advanceStringIndex","getMethod","getSubstitution","regExpExec","REPLACE","max","min","concat","push","stringIndexOf","maybeToString","it","REPLACE_KEEPS_$0","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_SUPPORTS_NAMED_GROUPS","_","maybeCallNative","UNSAFE_SUBSTITUTE","searchValue","replaceValue","replacer","rx","res","functionalReplace","fullUnicode","results","matchStr","accumulatedResult","nextSourcePosition","replacerArgs","factory","createRequest","options","xhr","XMLHttpRequest","open","method","url","responseType","Object","keys","forEach","setRequestHeader","sendRequest","body","Promise","resolve","reject","onload","JSON","parse","err","onerror","send","stringify","sendFormRequest","FormData","append","request","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","_classCallCheck","instance","ChunkUploadHandler","chunks","sessionId","chunkSize","speedInterval","start","end","fileSize","blob","startOffset","retries","maxRetries","stopChunks","chunksUploading","chunk","abort","stopSpeedCalc","startChunking","_this","promise","_this2","assign","action","startBody","phase","mime_type","fileType","fileName","then","session_id","end_offset","createChunks","catch","maxActiveChunks","uploadNextChunk","startSpeedCalc","hasChunksToUpload","uploadChunk","chunksToUpload","finish","_this3","updateFileProgress","addEventListener","evt","lengthComputable","round","loaded","total","uploadBody","start_offset","uploaded","_this4","finishBody","_this5","lastUploadedBytes","window","setInterval","uploadedBytes","clearInterval","get","parseInt","maxActive","type","_this6","completedProgress","chunksUploaded","uploadingProgress","reduce","filter","script","change","$parent","addInputFile","test","navigator","userAgent","$destroy","parent","el","$el","normalizeComponent","template","style","scopeId","isFunctionalTemplate","moduleIdentifier","shadowMode","createInjector","createInjectorSSR","createInjectorShadow","hook","_compiled","functional","_scopeId","context","$vnode","ssrContext","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","originalRender","h","existing","beforeCreate","normalizeComponent_1","__vue_script__","__vue_render__","inputId","disabled","features","html5","__vue_staticRenderFns__","__vue_inject_styles__","__vue_scope_id__","__vue_module_identifier__","__vue_is_functional_template__","InputFile","_extends","hasOwnProperty","_typeof","Symbol","iterator","obj","_toConsumableArray","arr","Array","isArray","arr2","from","CHUNK_DEFAULT_OPTIONS","handler","script$1","default","Boolean","maximum","Number","postAction","putAction","customAction","Function","timeout","chunkEnabled","uploading","destroy","mounted","document","createElement","webkitdirectory","ondrop","maps","id","$nextTick","$forceUpdate","watchDrop","beforeDestroy","fileObject","chunkOptions","className","watch","_active","watchActive","oldMaps","newFile","oldFile","emitFile","_key","clear","emitInput","_files","addFiles","Blob","webkitRelativePath","relativePath","Element","random","substr","emitFilter","newFiles","_newFiles","splice","_i","_file2","_i2","names","split","__vuex__","addDataTransfer","dataTransfer","items","getAsEntry","getAsFile","webkitGetAsEntry","getEntry","_i3","entry","path","isFile","isDirectory","dirReader","createReader","readEntries","entries","id1","id2","file1","file2","index1","index2","isPrevent","$emit","setTimeout","code","message","trim","join","search","shouldUseChunkUpload","uploadPut","uploadHtml5","uploadHtml4","HandlerClass","querys","encodeURIComponent","queryString","uploadXhr","File","filename","_file","speedTime","speedLoaded","onprogress","speedTime2","Date","now","interval","complete","responseText","contentType","getResponseHeader","onabort","ontimeout","onKeydown","keyCode","iframe","src","setAttribute","appendChild","getResponseData","doc","contentWindow","contentDocument","innerHTML","removeEventListener","submit","parentNode","removeChild","_el","dropElement","onDragenter","onDragleave","onDocumentDrop","onDragover","onDrop","querySelector","dt","types","contains","nodeName","explicitOriginalTarget","fromElement","clientX","clientY","innerWidth","innerHeight","isOldIE","toLowerCase","addStyle","HEAD","head","getElementsByTagName","styles","css","media","ids","Set","has","sources","btoa","unescape","element","styleSheet","cssText","textNode","createTextNode","nodes","childNodes","insertBefore","browser","__vue_script__$1","__vue_render__$1","class","_t","__vue_staticRenderFns__$1","__vue_inject_styles__$1","inject","__vue_scope_id__$1","__vue_module_identifier__$1","__vue_is_functional_template__$1","FileUpload$1","freeze","getCjsExportFromNamespace","require$$0"],"sourceRoot":""}