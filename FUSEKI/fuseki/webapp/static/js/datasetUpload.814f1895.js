(self["webpackChunkapache_jena_fuseki"]=self["webpackChunkapache_jena_fuseki"]||[]).push([[612],{7483:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{attrs:{fluid:""}},[n("b-row",{staticClass:"mt-4"},[n("b-col",{attrs:{cols:"12"}},[n("h2",[e._v("/"+e._s(this.datasetName))]),n("b-card",{attrs:{"no-body":""}},[n("b-card-header",{attrs:{"header-tag":"nav"}},[n("Menu",{attrs:{"dataset-name":e.datasetName}})],1),this.services["gsp-rw"]&&0!==this.services["gsp-rw"].length?n("b-card-body",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.$refs.upload&&e.$refs.upload.dropActive,expression:"$refs.upload && $refs.upload.dropActive"}],staticClass:"drop-active"},[n("h3",[e._v("Drop files to upload")])]),n("b-row",[n("b-col",{attrs:{sm:"12"}},[n("h3",[e._v("Upload files")]),n("p",[e._v("Load data into the default graph of the currently selected dataset, or the given named graph. You may upload any RDF format, such as Turtle, RDF/XML or TRiG.")]),n("b-form",[n("b-form-group",{attrs:{id:"dataset-graph-name-group",label:"Dataset graph name","label-for":"dataset-graph-name","label-cols":"12","label-cols-sm":"4","label-cols-md":"4","label-cols-lg":"2","label-size":"sm"}},[n("b-form-input",{attrs:{pattern:"[^\\s]+",oninvalid:"this.setCustomValidity('Enter a valid dataset graph name')",oninput:"this.setCustomValidity('')",id:"dataset-graph-name",type:"text",placeholder:"Leave blank for default graph",trim:""},model:{value:e.form.datasetGraphName,callback:function(t){e.$set(e.form,"datasetGraphName",t)},expression:"form.datasetGraphName"}})],1),n("b-form-group",{attrs:{id:"dataset-files",label:"Files to upload","label-for":"add-files-action-dropdown","label-cols":"12","label-cols-sm":"4","label-cols-md":"4","label-cols-lg":"2","label-size":"sm"}},[n("file-upload",{ref:"upload",staticClass:"btn btn-success",attrs:{"post-action":e.postActionUrl,extensions:e.upload.extensions,accept:e.upload.accept,multiple:e.upload.multiple,directory:e.upload.directory,size:e.upload.size||0,thread:e.upload.thread<1?1:e.upload.thread>5?5:e.upload.thread,headers:e.upload.headers,data:e.upload.data,drop:e.upload.drop,"drop-directory":e.upload.dropDirectory,"add-index":e.upload.addIndex},model:{value:e.upload.files,callback:function(t){e.$set(e.upload,"files",t)},expression:"upload.files"}},[n("FontAwesomeIcon",{attrs:{icon:"plus"}}),n("span",{staticClass:"ml-2"},[e._v("select files")])],1),e.$refs.upload&&e.$refs.upload.active?n("b-button",{staticClass:"ml-2 d-inline",attrs:{variant:"primary"},on:{click:function(t){t.preventDefault(),e.$refs.upload.active=!1}}},[n("FontAwesomeIcon",{attrs:{icon:"times-circle"}}),n("span",{staticClass:"ml-2"},[e._v("stop upload")])],1):n("b-button",{staticClass:"ml-2 d-inline",attrs:{variant:"primary"},on:{click:function(t){t.preventDefault(),e.$refs.upload.active=!0}}},[n("FontAwesomeIcon",{attrs:{icon:"upload"}}),n("span",{staticClass:"ml-2"},[e._v("upload all")])],1)],1)],1)],1)],1),n("b-row",[n("b-col",[n("b-table",{attrs:{fields:e.datasetTableFields,items:e.datasetTableItems,stacked:"lg","empty-text":"No files selected",bordered:"",fixed:"",hover:"","show-empty":""},scopedSlots:e._u([{key:"cell(size)",fn:function(t){return[e._v(" "+e._s(e.readableFileSize(t.item.size))+" ")]}},{key:"cell(speed)",fn:function(t){return[e._v(" "+e._s(e.readableFileSize(t.item.speed))+"/s ")]}},{key:"cell(status)",fn:function(t){return[n("b-progress",{attrs:{variant:e.getFileStatus(t.item),value:t.item.progress,max:100,precision:2,"show-progress":""}}),n("span",{staticClass:"small"},[e._v("Triples uploaded:Â ")]),t.item.response.tripleCount?n("span",{staticClass:"small"},[e._v(" "+e._s(t.item.response.tripleCount)+" ")]):n("span",{staticClass:"small"},[e._v("0")])]}},{key:"cell(actions)",fn:function(t){return[n("b-button",{staticClass:"mr-0 mb-2 d-block",attrs:{variant:"outline-primary"},on:{click:function(n){n.preventDefault(),!t.item.success&&"compressing"!==t.item.error&&e.$refs.upload.update(t.item,{active:!0})}}},[n("FontAwesomeIcon",{attrs:{icon:"upload"}}),n("span",{staticClass:"ml-2"},[e._v("upload now")])],1),n("b-button",{staticClass:"mr-0 mb-md-0 d-block d-md-inline-block",attrs:{variant:"outline-primary"},on:{click:function(n){return n.preventDefault(),e.remove(t.item)}}},[n("FontAwesomeIcon",{attrs:{icon:"minus-circle"}}),n("span",{staticClass:"ml-2"},[e._v("remove")])],1)]}}])})],1)],1)],1):n("b-card-body",[n("b-alert",{attrs:{show:"",variant:"warning"}},[e._v("No service for adding data available. The Graph Store Protocol service should be configured to allow adding data.")])],1)],1)],1)],1)],1)},a=[],s=n(2651),r=n(2948),o=n.n(r),l=n(8947),u=n(1436),c=n(7810),d=n(4148);function p(){var e="/home/afs/ASF/Release/jena/target/checkout/jena-fuseki2/jena-fuseki-ui/src/views/dataset/Upload.vue",t="f9c87642e2fbab2394c05f9781875f6b6ce15a71",n=new Function("return this")(),i="__coverage__",a={path:"/home/afs/ASF/Release/jena/target/checkout/jena-fuseki2/jena-fuseki-ui/src/views/dataset/Upload.vue",statementMap:{0:{start:{line:178,column:0},end:{line:178,column:59}},1:{start:{line:194,column:4},end:{line:254,column:5}},2:{start:{line:259,column:6},end:{line:261,column:7}},3:{start:{line:260,column:8},end:{line:260,column:17}},4:{start:{line:262,column:6},end:{line:267,column:10}},5:{start:{line:264,column:10},end:{line:266,column:12}},6:{start:{line:270,column:6},end:{line:272,column:7}},7:{start:{line:271,column:8},end:{line:271,column:17}},8:{start:{line:273,column:21},end:{line:273,column:132}},9:{start:{line:274,column:27},end:{line:274,column:107}},10:{start:{line:274,column:85},end:{line:274,column:100}},11:{start:{line:275,column:6},end:{line:275,column:94}},12:{start:{line:281,column:6},end:{line:285,column:7}},13:{start:{line:283,column:8},end:{line:283,column:27}},14:{start:{line:284,column:8},end:{line:284,column:23}},15:{start:{line:286,column:6},end:{line:288,column:7}},16:{start:{line:287,column:8},end:{line:287,column:24}},17:{start:{line:289,column:6},end:{line:291,column:7}},18:{start:{line:290,column:8},end:{line:290,column:24}},19:{start:{line:292,column:6},end:{line:292,column:15}},20:{start:{line:295,column:6},end:{line:295,column:36}},21:{start:{line:305,column:16},end:{line:305,column:20}},22:{start:{line:306,column:16},end:{line:306,column:21}},23:{start:{line:308,column:6},end:{line:314,column:7}},24:{start:{line:309,column:8},end:{line:309,column:65}},25:{start:{line:310,column:13},end:{line:314,column:7}},26:{start:{line:311,column:8},end:{line:311,column:65}},27:{start:{line:313,column:8},end:{line:313,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:193,column:2},end:{line:193,column:3}},loc:{start:{line:193,column:10},end:{line:255,column:3}},line:193},1:{name:"(anonymous_1)",decl:{start:{line:258,column:4},end:{line:258,column:5}},loc:{start:{line:258,column:25},end:{line:268,column:5}},line:258},2:{name:"(anonymous_2)",decl:{start:{line:263,column:13},end:{line:263,column:14}},loc:{start:{line:263,column:21},end:{line:267,column:9}},line:263},3:{name:"(anonymous_3)",decl:{start:{line:269,column:4},end:{line:269,column:5}},loc:{start:{line:269,column:21},end:{line:276,column:5}},line:269},4:{name:"(anonymous_4)",decl:{start:{line:274,column:73},end:{line:274,column:74}},loc:{start:{line:274,column:85},end:{line:274,column:100}},line:274},5:{name:"(anonymous_5)",decl:{start:{line:280,column:4},end:{line:280,column:5}},loc:{start:{line:280,column:25},end:{line:293,column:5}},line:280},6:{name:"(anonymous_6)",decl:{start:{line:294,column:4},end:{line:294,column:5}},loc:{start:{line:294,column:18},end:{line:296,column:5}},line:294},7:{name:"(anonymous_7)",decl:{start:{line:304,column:22},end:{line:304,column:23}},loc:{start:{line:304,column:38},end:{line:315,column:5}},line:304}},branchMap:{0:{loc:{start:{line:259,column:6},end:{line:261,column:7}},type:"if",locations:[{start:{line:259,column:6},end:{line:261,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:259},1:{loc:{start:{line:270,column:6},end:{line:272,column:7}},type:"if",locations:[{start:{line:270,column:6},end:{line:272,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:270},2:{loc:{start:{line:270,column:10},end:{line:270,column:74}},type:"binary-expr",locations:[{start:{line:270,column:10},end:{line:270,column:34}},{start:{line:270,column:38},end:{line:270,column:74}}],line:270},3:{loc:{start:{line:273,column:21},end:{line:273,column:132}},type:"cond-expr",locations:[{start:{line:273,column:89},end:{line:273,column:127}},{start:{line:273,column:130},end:{line:273,column:132}}],line:273},4:{loc:{start:{line:273,column:22},end:{line:273,column:85}},type:"binary-expr",locations:[{start:{line:273,column:22},end:{line:273,column:48}},{start:{line:273,column:52},end:{line:273,column:85}}],line:273},5:{loc:{start:{line:274,column:27},end:{line:274,column:107}},type:"binary-expr",locations:[{start:{line:274,column:27},end:{line:274,column:101}},{start:{line:274,column:105},end:{line:274,column:107}}],line:274},6:{loc:{start:{line:281,column:6},end:{line:285,column:7}},type:"if",locations:[{start:{line:281,column:6},end:{line:285,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:281},7:{loc:{start:{line:286,column:6},end:{line:288,column:7}},type:"if",locations:[{start:{line:286,column:6},end:{line:288,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:286},8:{loc:{start:{line:289,column:6},end:{line:291,column:7}},type:"if",locations:[{start:{line:289,column:6},end:{line:291,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:289},9:{loc:{start:{line:308,column:6},end:{line:314,column:7}},type:"if",locations:[{start:{line:308,column:6},end:{line:314,column:7}},{start:{line:310,column:13},end:{line:314,column:7}}],line:308},10:{loc:{start:{line:310,column:13},end:{line:314,column:7}},type:"if",locations:[{start:{line:310,column:13},end:{line:314,column:7}},{start:{line:312,column:13},end:{line:314,column:7}}],line:310}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,sources:["Upload.vue"],names:[],mappings:";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0KA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",file:"Upload.vue",sourceRoot:"src/views/dataset",sourcesContent:['\x3c!--\n   Licensed to the Apache Software Foundation (ASF) under one or more\n   contributor license agreements.  See the NOTICE file distributed with\n   this work for additional information regarding copyright ownership.\n   The ASF licenses this file to You under the Apache License, Version 2.0\n   (the "License"); you may not use this file except in compliance with\n   the License.  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an "AS IS" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n--\x3e\n\n<template>\n  <b-container fluid>\n    <b-row class="mt-4">\n      <b-col cols="12">\n        <h2>/{{ this.datasetName }}</h2>\n        <b-card no-body>\n          <b-card-header header-tag="nav">\n            <Menu :dataset-name="datasetName" />\n          </b-card-header>\n          <b-card-body v-if="!this.services[\'gsp-rw\'] || this.services[\'gsp-rw\'].length === 0">\n            <b-alert show variant="warning">No service for adding data available. The Graph Store Protocol service should be configured to allow adding data.</b-alert>\n          </b-card-body>\n          <b-card-body v-else>\n            <div v-show="$refs.upload && $refs.upload.dropActive" class="drop-active">\n              <h3>Drop files to upload</h3>\n            </div>\n            <b-row>\n              <b-col sm="12">\n                <h3>Upload files</h3>\n                <p>Load data into the default graph of the currently selected dataset, or the given named graph.\n                  You may upload any RDF format, such as Turtle, RDF/XML or TRiG.</p>\n                <b-form>\n                  <b-form-group\n                    id="dataset-graph-name-group"\n                    label="Dataset graph name"\n                    label-for="dataset-graph-name"\n                    label-cols="12"\n                    label-cols-sm="4"\n                    label-cols-md="4"\n                    label-cols-lg="2"\n                    label-size="sm"\n                  >\n                    <b-form-input\n                      pattern="[^\\s]+"\n                      oninvalid="this.setCustomValidity(\'Enter a valid dataset graph name\')"\n                      oninput="this.setCustomValidity(\'\')"\n                      id="dataset-graph-name"\n                      v-model="form.datasetGraphName"\n                      type="text"\n                      placeholder="Leave blank for default graph"\n                      trim\n                    ></b-form-input>\n                  </b-form-group>\n                  <b-form-group\n                    id="dataset-files"\n                    label="Files to upload"\n                    label-for="add-files-action-dropdown"\n                    label-cols="12"\n                    label-cols-sm="4"\n                    label-cols-md="4"\n                    label-cols-lg="2"\n                    label-size="sm"\n                  >\n                    <file-upload\n                      ref="upload"\n                      v-model="upload.files"\n                      :post-action="postActionUrl"\n                      :extensions="upload.extensions"\n                      :accept="upload.accept"\n                      :multiple="upload.multiple"\n                      :directory="upload.directory"\n                      :size="upload.size || 0"\n                      :thread="upload.thread < 1 ? 1 : (upload.thread > 5 ? 5 : upload.thread)"\n                      :headers="upload.headers"\n                      :data="upload.data"\n                      :drop="upload.drop"\n                      :drop-directory="upload.dropDirectory"\n                      :add-index="upload.addIndex"\n                      class="btn btn-success"\n                    >\n                      <FontAwesomeIcon icon="plus" />\n                      <span class="ml-2">select files</span>\n                    </file-upload>\n                    <b-button\n                      v-if="!$refs.upload || !$refs.upload.active"\n                      @click.prevent="$refs.upload.active = true"\n                      variant="primary"\n                      class="ml-2 d-inline">\n                      <FontAwesomeIcon icon="upload" />\n                      <span class="ml-2">upload all</span>\n                    </b-button>\n                    <b-button\n                      v-else\n                      @click.prevent="$refs.upload.active = false"\n                      variant="primary"\n                      class="ml-2 d-inline">\n                      <FontAwesomeIcon icon="times-circle" />\n                      <span class="ml-2">stop upload</span>\n                    </b-button>\n                  </b-form-group>\n                </b-form>\n              </b-col>\n            </b-row>\n            <b-row>\n              <b-col>\n                <b-table\n                  :fields="datasetTableFields"\n                  :items="datasetTableItems"\n                  stacked="lg"\n                  empty-text="No files selected"\n                  bordered\n                  fixed\n                  hover\n                  show-empty\n                >\n                  <template v-slot:cell(size)="data">\n                    {{ readableFileSize(data.item.size) }}\n                  </template>\n                  <template v-slot:cell(speed)="data">\n                    {{ readableFileSize(data.item.speed) }}/s\n                  </template>\n                  <template v-slot:cell(status)="data">\n                    <b-progress\n                      :variant="getFileStatus(data.item)"\n                      :value="data.item.progress"\n                      :max="100"\n                      :precision="2"\n                      show-progress></b-progress>\n                    <span class="small">Triples uploaded:&nbsp;</span>\n                    <span v-if="data.item.response.tripleCount" class="small">\n                      {{ data.item.response.tripleCount }}\n                    </span>\n                    <span v-else class="small">0</span>\n                  </template>\n                  <template v-slot:cell(actions)="data">\n                    <b-button\n                      @click.prevent="data.item.success || data.item.error === \'compressing\' ? false : $refs.upload.update(data.item, {active: true})"\n                      variant="outline-primary"\n                      class="mr-0 mb-2 d-block"\n                    >\n                      <FontAwesomeIcon icon="upload" />\n                      <span class="ml-2">upload now</span>\n                    </b-button>\n                    <b-button\n                      @click.prevent="remove(data.item)"\n                      variant="outline-primary"\n                      class="mr-0 mb-md-0 d-block d-md-inline-block"\n                    >\n                      <FontAwesomeIcon icon="minus-circle" />\n                      <span class="ml-2">remove</span>\n                    </b-button>\n                  </template>\n                </b-table>\n              </b-col>\n            </b-row>\n          </b-card-body>\n        </b-card>\n      </b-col>\n    </b-row>\n  </b-container>\n</template>\n\n<script>\nimport Menu from \'@/components/dataset/Menu\'\nimport FileUpload from \'vue-upload-component\'\nimport { library } from \'@fortawesome/fontawesome-svg-core\'\nimport { faPlus, faUpload, faTimesCircle, faMinusCircle } from \'@fortawesome/free-solid-svg-icons\'\nimport { FontAwesomeIcon } from \'@fortawesome/vue-fontawesome\'\nimport currentDatasetMixin from \'@/mixins/current-dataset\'\n\nlibrary.add(faPlus, faUpload, faTimesCircle, faMinusCircle)\n\nexport default {\n  name: \'DatasetUpload\',\n\n  components: {\n    Menu,\n    FontAwesomeIcon,\n    FileUpload\n  },\n\n  mixins: [\n    currentDatasetMixin\n  ],\n\n  data () {\n    return {\n      form: {\n        datasetGraphName: null,\n        datasetFiles: null\n      },\n      upload: {\n        files: [],\n        accept: \'\', // e.g. \'ttl,xml,rdf,...\'\n        minSize: 0,\n        // size: 1024 * 1024 * 10,\n        multiple: true,\n        directory: false,\n        drop: true,\n        dropDirectory: true,\n        addIndex: false,\n        thread: 3,\n        name: \'file\',\n        headers: { // e.g. CSRF headers\n        },\n        data: {},\n        autoCompress: 1024 * 1024,\n        uploadAuto: false,\n        isOption: false\n        // addData: {\n        //   show: false,\n        //   name: \'\',\n        //   type: \'\',\n        //   content: \'\'\n        // },\n        // editFile: {\n        //   show: false,\n        //   name: \'\'\n        // }\n      },\n      datasetTableFields: [\n        {\n          key: \'name\',\n          label: \'name\',\n          sortable: true,\n          sortDirection: \'asc\'\n        },\n        {\n          key: \'size\',\n          label: \'size\',\n          sortable: true,\n          sortDirection: \'asc\'\n        },\n        {\n          key: \'speed\',\n          label: \'speed\'\n        },\n        {\n          key: \'status\',\n          label: \'status\'\n        },\n        {\n          key: \'actions\',\n          label: \'actions\'\n        }\n      ]\n    }\n  },\n\n  computed: {\n    datasetTableItems () {\n      if (!this.upload.files) {\n        return []\n      }\n      return this.upload.files\n        .map(file => {\n          return Object.assign(file, {\n            status: this.getFileStatus(file)\n          })\n        })\n    },\n    postActionUrl () {\n      if (!this.services[\'gsp-rw\'] || this.services[\'gsp-rw\'].length === 0) {\n        return \'\'\n      }\n      const params = (this.form.datasetGraphName && this.form.datasetGraphName !== \'\') ? `?graph=${this.form.datasetGraphName}` : \'\'\n      const dataEndpoint = this.services[\'gsp-rw\'][\'srv.endpoints\'].find(endpoint => endpoint !== \'\') || \'\'\n      return this.$fusekiService.getFusekiUrl(`/${this.datasetName}/${dataEndpoint}${params}`)\n    }\n  },\n\n  methods: {\n    getFileStatus (file) {\n      if (file.error) {\n        // eslint-disable-next-line no-console\n        console.error(file)\n        return \'danger\'\n      }\n      if (file.success) {\n        return \'success\'\n      }\n      if (file.active) {\n        return \'warning\'\n      }\n      return \'\'\n    },\n    remove (file) {\n      this.$refs.upload.remove(file)\n    },\n    /**\n     * Return file size in bytes in a human-readable form.\n     *\n     * Copied from the Backbone.js code with modifications.\n     *\n     * Replaced sprintf usage by .toFixed(2).\n     */\n    readableFileSize: function (size) {\n      const k = 1024\n      const m = k * k\n\n      if (size >= m) {\n        return `${(size / m).toFixed(2).replace(/\\.?0*$/, \'\')}mb`\n      } else if (size >= k) {\n        return `${(size / k).toFixed(2).replace(/\\.?0*$/, \'\')}kb`\n      } else {\n        return `${size} bytes`\n      }\n    }\n  }\n}\n<\/script>\n']},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f9c87642e2fbab2394c05f9781875f6b6ce15a71"},s=n[i]||(n[i]={});s[e]&&s[e].hash===t||(s[e]=a);var r=s[e];return p=function(){return r},r}p(),p().s[0]++,l.vI.add(u.r8p,u.cf$,u.nYk,u.uMC);var m={name:"DatasetUpload",components:{Menu:s.Z,FontAwesomeIcon:c.GN,FileUpload:o()},mixins:[d.Z],data(){return p().f[0]++,p().s[1]++,{form:{datasetGraphName:null,datasetFiles:null},upload:{files:[],accept:"",minSize:0,multiple:!0,directory:!1,drop:!0,dropDirectory:!0,addIndex:!1,thread:3,name:"file",headers:{},data:{},autoCompress:1048576,uploadAuto:!1,isOption:!1},datasetTableFields:[{key:"name",label:"name",sortable:!0,sortDirection:"asc"},{key:"size",label:"size",sortable:!0,sortDirection:"asc"},{key:"speed",label:"speed"},{key:"status",label:"status"},{key:"actions",label:"actions"}]}},computed:{datasetTableItems(){return p().f[1]++,p().s[2]++,this.upload.files?(p().b[0][1]++,p().s[4]++,this.upload.files.map((e=>(p().f[2]++,p().s[5]++,Object.assign(e,{status:this.getFileStatus(e)}))))):(p().b[0][0]++,p().s[3]++,[])},postActionUrl(){if(p().f[3]++,p().s[6]++,p().b[2][0]++,!this.services["gsp-rw"]||(p().b[2][1]++,0===this.services["gsp-rw"].length))return p().b[1][0]++,p().s[7]++,"";p().b[1][1]++;const e=(p().s[8]++,p().b[4][0]++,this.form.datasetGraphName&&(p().b[4][1]++,""!==this.form.datasetGraphName)?(p().b[3][0]++,`?graph=${this.form.datasetGraphName}`):(p().b[3][1]++,"")),t=(p().s[9]++,p().b[5][0]++,this.services["gsp-rw"]["srv.endpoints"].find((e=>(p().f[4]++,p().s[10]++,""!==e)))||(p().b[5][1]++,""));return p().s[11]++,this.$fusekiService.getFusekiUrl(`/${this.datasetName}/${t}${e}`)}},methods:{getFileStatus(e){return p().f[5]++,p().s[12]++,e.error?(p().b[6][0]++,p().s[13]++,console.error(e),p().s[14]++,"danger"):(p().b[6][1]++,p().s[15]++,e.success?(p().b[7][0]++,p().s[16]++,"success"):(p().b[7][1]++,p().s[17]++,e.active?(p().b[8][0]++,p().s[18]++,"warning"):(p().b[8][1]++,p().s[19]++,"")))},remove(e){p().f[6]++,p().s[20]++,this.$refs.upload.remove(e)},readableFileSize:function(e){p().f[7]++;const t=(p().s[21]++,1024),n=(p().s[22]++,t*t);return p().s[23]++,e>=n?(p().b[9][0]++,p().s[24]++,`${(e/n).toFixed(2).replace(/\.?0*$/,"")}mb`):(p().b[9][1]++,p().s[25]++,e>=t?(p().b[10][0]++,p().s[26]++,`${(e/t).toFixed(2).replace(/\.?0*$/,"")}kb`):(p().b[10][1]++,p().s[27]++,`${e} bytes`))}}},f=m,h=n(1001),A=(0,h.Z)(f,i,a,!1,null,null,null),v=A.exports},2948:function(e){
/*!
 * Name: vue-upload-component
 * Version: 2.8.21
 * Author: Marco Lang
 */
(function(t,n){e.exports=n()})(0,(function(){"use strict";var e=function(e){var t=new XMLHttpRequest;return t.open(e.method||"GET",e.url),t.responseType="json",e.headers&&Object.keys(e.headers).forEach((function(n){t.setRequestHeader(n,e.headers[n])})),t},t=function(e,t){return new Promise((function(n,i){e.onload=function(){if(e.status>=200&&e.status<300){var t;try{t=JSON.parse(e.response)}catch(a){t=e.response}n(t)}else i(e.response)},e.onerror=function(){return i(e.response)},e.send(JSON.stringify(t))}))},n=function(e,t){var n=new FormData;for(var i in t)n.append(i,t[i]);return new Promise((function(t,i){e.onload=function(){if(e.status>=200&&e.status<300){var n;try{n=JSON.parse(e.response)}catch(a){n=e.response}t(n)}else i(e.response)},e.onerror=function(){return i(e.response)},e.send(n)}))};function i(n){var i=e(n);return t(i,n.body)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(e,n){s(this,t),this.file=e,this.options=n,this.chunks=[],this.sessionId=null,this.chunkSize=null,this.speedInterval=null}return a(t,[{key:"createChunks",value:function(){this.chunks=[];var e=0,t=this.chunkSize;while(e<this.fileSize)this.chunks.push({blob:this.file.file.slice(e,t),startOffset:e,active:!1,retries:this.maxRetries}),e=t,t=e+this.chunkSize}},{key:"updateFileProgress",value:function(){this.file.progress=this.progress}},{key:"pause",value:function(){this.file.active=!1,this.stopChunks()}},{key:"stopChunks",value:function(){this.chunksUploading.forEach((function(e){e.xhr.abort(),e.active=!1})),this.stopSpeedCalc()}},{key:"resume",value:function(){this.file.active=!0,this.startChunking()}},{key:"upload",value:function(){var e=this;return this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),this.start(),this.promise}},{key:"start",value:function(){var e=this;i({method:"POST",headers:Object.assign({},this.headers,{"Content-Type":"application/json"}),url:this.action,body:Object.assign(this.startBody,{phase:"start",mime_type:this.fileType,size:this.fileSize,name:this.fileName})}).then((function(t){if("success"!==t.status)return e.file.response=t,e.reject("server");e.sessionId=t.data.session_id,e.chunkSize=t.data.end_offset,e.createChunks(),e.startChunking()})).catch((function(t){e.file.response=t,e.reject("server")}))}},{key:"startChunking",value:function(){for(var e=0;e<this.maxActiveChunks;e++)this.uploadNextChunk();this.startSpeedCalc()}},{key:"uploadNextChunk",value:function(){if(this.file.active){if(this.hasChunksToUpload)return this.uploadChunk(this.chunksToUpload[0]);if(0===this.chunksUploading.length)return this.finish()}}},{key:"uploadChunk",value:function(t){var i=this;t.progress=0,t.active=!0,this.updateFileProgress(),t.xhr=e({method:"POST",headers:this.headers,url:this.action}),t.xhr.upload.addEventListener("progress",(function(e){e.lengthComputable&&(t.progress=Math.round(e.loaded/e.total*100))}),!1),n(t.xhr,Object.assign(this.uploadBody,{phase:"upload",session_id:this.sessionId,start_offset:t.startOffset,chunk:t.blob})).then((function(e){if(t.active=!1,"success"===e.status)t.uploaded=!0;else if(t.retries--<=0)return i.stopChunks(),i.reject("upload");i.uploadNextChunk()})).catch((function(){if(t.active=!1,t.retries--<=0)return i.stopChunks(),i.reject("upload");i.uploadNextChunk()}))}},{key:"finish",value:function(){var e=this;this.updateFileProgress(),this.stopSpeedCalc(),i({method:"POST",headers:Object.assign({},this.headers,{"Content-Type":"application/json"}),url:this.action,body:Object.assign(this.finishBody,{phase:"finish",session_id:this.sessionId})}).then((function(t){if(e.file.response=t,"success"!==t.status)return e.reject("server");e.resolve(t)})).catch((function(t){e.file.response=t,e.reject("server")}))}},{key:"startSpeedCalc",value:function(){var e=this;this.file.speed=0;var t=0;this.speedInterval||(this.speedInterval=window.setInterval((function(){var n=e.progress/100*e.fileSize;e.file.speed=n-t,t=n}),1e3))}},{key:"stopSpeedCalc",value:function(){this.speedInterval&&window.clearInterval(this.speedInterval),this.speedInterval=null,this.file.speed=0}},{key:"maxRetries",get:function(){return parseInt(this.options.maxRetries,10)}},{key:"maxActiveChunks",get:function(){return parseInt(this.options.maxActive,10)}},{key:"fileType",get:function(){return this.file.type}},{key:"fileSize",get:function(){return this.file.size}},{key:"fileName",get:function(){return this.file.name}},{key:"action",get:function(){return this.options.action||null}},{key:"startBody",get:function(){return this.options.startBody||{}}},{key:"uploadBody",get:function(){return this.options.uploadBody||{}}},{key:"finishBody",get:function(){return this.options.finishBody||{}}},{key:"headers",get:function(){return this.options.headers||{}}},{key:"readyToUpload",get:function(){return!!this.chunks}},{key:"progress",get:function(){var e=this,t=this.chunksUploaded.length/this.chunks.length*100,n=this.chunksUploading.reduce((function(t,n){return t+(0|n.progress)/e.chunks.length}),0);return Math.min(t+n,100)}},{key:"chunksToUpload",get:function(){return this.chunks.filter((function(e){return!e.active&&!e.uploaded}))}},{key:"hasChunksToUpload",get:function(){return this.chunksToUpload.length>0}},{key:"chunksUploading",get:function(){return this.chunks.filter((function(e){return!!e.xhr&&!!e.active}))}},{key:"chunksUploaded",get:function(){return this.chunks.filter((function(e){return!!e.uploaded}))}}]),t}(),o={methods:{change:function(e){this.$parent.addInputFile(e.target),e.target.files?(e.target.value="",e.target.files.length&&!/safari/i.test(navigator.userAgent)&&(e.target.type="",e.target.type="file")):(this.$destroy(),new this.constructor({parent:this.$parent,el:this.$el}))}}};function l(e,t,n,i,a,s,r,o,l,u){"boolean"!==typeof r&&(l=o,o=r,r=!1);var c,d="function"===typeof n?n.options:n;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,a&&(d.functional=!0)),i&&(d._scopeId=i),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(s)},d._ssrRegister=c):t&&(c=r?function(){t.call(this,u(this.$root.$options.shadowRoot))}:function(e){t.call(this,o(e))}),c)if(d.functional){var p=d.render;d.render=function(e,t){return c.call(t),p(e,t)}}else{var m=d.beforeCreate;d.beforeCreate=m?[].concat(m,c):[c]}return n}var u=l,c=o,d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("input",{attrs:{type:"file",name:e.$parent.name,id:e.$parent.inputId||e.$parent.name,accept:e.$parent.accept,capture:e.$parent.capture,disabled:e.$parent.disabled,webkitdirectory:e.$parent.directory&&e.$parent.features.directory,directory:e.$parent.directory&&e.$parent.features.directory,multiple:e.$parent.multiple&&e.$parent.features.html5},on:{change:e.change}})},p=[],m=void 0,f=void 0,h=void 0,A=!1,v=u({render:d,staticRenderFns:p},m,c,f,A,h,void 0,void 0),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function g(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var C={headers:{},action:"",minSize:1048576,maxActive:3,maxRetries:5,handler:r},k={components:{InputFile:v},props:{inputId:{type:String},name:{type:String,default:"file"},accept:{type:String},capture:{},disabled:{},multiple:{type:Boolean},maximum:{type:Number,default:function(){return this.multiple?0:1}},addIndex:{type:[Boolean,Number]},directory:{type:Boolean},postAction:{type:String},putAction:{type:String},customAction:{type:Function},headers:{type:Object,default:Object},data:{type:Object,default:Object},timeout:{type:Number,default:0},drop:{default:!1},dropDirectory:{type:Boolean,default:!0},size:{type:Number,default:0},extensions:{default:Array},value:{type:Array,default:Array},thread:{type:Number,default:1},chunkEnabled:{type:Boolean,default:!1},chunk:{type:Object,default:function(){return C}}},data:function(){return{files:this.value,features:{html5:!0,directory:!1,drop:!1},active:!1,dropActive:!1,uploading:0,destroy:!1}},mounted:function(){var e=document.createElement("input");if(e.type="file",e.multiple=!0,window.FormData&&e.files?("boolean"!==typeof e.webkitdirectory&&"boolean"!==typeof e.directory||(this.features.directory=!0),this.features.html5&&"undefined"!==typeof e.ondrop&&(this.features.drop=!0)):this.features.html5=!1,this.maps={},this.files)for(var t=0;t<this.files.length;t++){var n=this.files[t];this.maps[n.id]=n}this.$nextTick((function(){var e=this;this.$parent?(this.$parent.$forceUpdate(),this.$parent.$nextTick((function(){e.watchDrop(e.drop)}))):this.watchDrop(this.drop)}))},beforeDestroy:function(){this.destroy=!0,this.active=!1,this.watchDrop(!1)},computed:{uploaded:function(){for(var e=void 0,t=0;t<this.files.length;t++)if(e=this.files[t],e.fileObject&&!e.error&&!e.success)return!1;return!0},chunkOptions:function(){return Object.assign(C,this.chunk)},className:function(){return["file-uploads",this.features.html5?"file-uploads-html5":"file-uploads-html4",this.features.directory&&this.directory?"file-uploads-directory":void 0,this.features.drop&&this.drop?"file-uploads-drop":void 0,this.disabled?"file-uploads-disabled":void 0]}},watch:{active:function(e){this.watchActive(e)},dropActive:function(){this.$parent&&this.$parent.$forceUpdate()},drop:function(e){this.watchDrop(e)},value:function(e){if(this.files!==e){this.files=e;var t=this.maps;this.maps={};for(var n=0;n<this.files.length;n++){var i=this.files[n];this.maps[i.id]=i}for(var a in this.maps){var s=this.maps[a],r=t[a];s!==r&&this.emitFile(s,r)}for(var o in t)this.maps[o]||this.emitFile(void 0,t[o])}}},methods:{clear:function(){if(this.files.length){var e=this.files;this.files=[],this.maps={},this.emitInput();for(var t=0;t<e.length;t++)this.emitFile(void 0,e[t])}return!0},get:function(e){return!!e&&("object"===("undefined"===typeof e?"undefined":y(e))?this.maps[e.id]||!1:this.maps[e]||!1)},add:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.addIndex,n=e,i=n instanceof Array;i||(n=[n]);for(var a=[],s=0;s<n.length;s++){var r=n[s];this.features.html5&&r instanceof Blob&&(r={file:r,size:r.size,name:r.webkitRelativePath||r.relativePath||r.name||"unknown",type:r.type});var o=!1;if(!1===r.fileObject||(r.fileObject||"undefined"!==typeof Element&&r.el instanceof Element||"undefined"!==typeof Blob&&r.file instanceof Blob)&&(o=!0),o&&(r=b({fileObject:!0,size:-1,name:"Filename",type:"",active:!1,error:"",success:!1,putAction:this.putAction,postAction:this.postAction,timeout:this.timeout},r,{response:{},progress:"0.00",speed:0}),r.data=b({},this.data,r.data?r.data:{}),r.headers=b({},this.headers,r.headers?r.headers:{})),r.id||(r.id=Math.random().toString(36).substr(2)),!this.emitFilter(r,void 0)){if(this.maximum>1&&a.length+this.files.length>=this.maximum)break;if(a.push(r),1===this.maximum)break}}if(!a.length)return!1;1===this.maximum&&this.clear();var l=void 0;if(!0===t||0===t)l=a.concat(this.files);else if(t){var u;l=this.files.concat([]),(u=l).splice.apply(u,[t,0].concat(a))}else l=this.files.concat(a);this.files=l;for(var c=0;c<a.length;c++){var d=a[c];this.maps[d.id]=d}this.emitInput();for(var p=0;p<a.length;p++)this.emitFile(a[p],void 0);return i?a:a[0]},addInputFile:function(e){var t=[];if(e.files)for(var n=0;n<e.files.length;n++){var i=e.files[n];t.push({size:i.size,name:i.webkitRelativePath||i.relativePath||i.name,type:i.type,file:i})}else{var a=e.value.replace(/\\/g,"/").split("/");delete e.__vuex__,t.push({name:a[a.length-1],el:e})}return this.add(t)},addDataTransfer:function(e){var t=this,n=[];if(e.items&&e.items.length){for(var i=[],a=0;a<e.items.length;a++){var s=e.items[a];s=s.getAsEntry?s.getAsEntry()||s.getAsFile():s.webkitGetAsEntry&&s.webkitGetAsEntry()||s.getAsFile(),s&&i.push(s)}return new Promise((function(e,a){var s=function a(s){var r=i[s];if(!r||t.maximum>0&&n.length>=t.maximum)return e(t.add(n));t.getEntry(r).then((function(e){n.push.apply(n,g(e)),a(s+1)}))};s(0)}))}if(e.files.length){for(var r=0;r<e.files.length;r++)if(n.push(e.files[r]),this.maximum>0&&n.length>=this.maximum)break;return Promise.resolve(this.add(n))}return Promise.resolve([])},getEntry:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise((function(i,a){if(e.isFile)e.file((function(e){i([{size:e.size,name:n+e.name,type:e.type,file:e}])}));else if(e.isDirectory&&t.dropDirectory){var s=[],r=e.createReader(),o=function a(){r.readEntries((function(r){var o=function o(l){return!r[l]&&0===l||t.maximum>0&&s.length>=t.maximum?i(s):r[l]?void t.getEntry(r[l],n+e.name+"/").then((function(e){s.push.apply(s,g(e)),o(l+1)})):a()};o(0)}))};o()}else i([])}))},replace:function(e,t){var n=this.get(e),i=this.get(t);if(!n||!i||n===i)return!1;var a=this.files.concat([]),s=a.indexOf(n),r=a.indexOf(i);return-1!==s&&-1!==r&&(a[s]=i,a[r]=n,this.files=a,this.emitInput(),!0)},remove:function(e){var t=this.get(e);if(t){if(this.emitFilter(void 0,t))return!1;var n=this.files.concat([]),i=n.indexOf(t);if(-1===i)return console.error("remove",t),!1;n.splice(i,1),this.files=n,delete this.maps[t.id],this.emitInput(),this.emitFile(void 0,t)}return t},update:function(e,t){var n=this.get(e);if(n){var i=b({},n,t);if(!n.fileObject||!n.active||i.active||i.error||i.success||(i.error="abort"),this.emitFilter(i,n))return!1;var a=this.files.concat([]),s=a.indexOf(n);return-1===s?(console.error("update",n),!1):(a.splice(s,1,i),this.files=a,delete this.maps[n.id],this.maps[i.id]=i,this.emitInput(),this.emitFile(i,n),i)}return!1},emitFilter:function(e,t){var n=!1;return this.$emit("input-filter",e,t,(function(){return n=!0,n})),n},emitFile:function(e,t){this.$emit("input-file",e,t),!(e&&e.fileObject&&e.active)||t&&t.active?e&&e.fileObject&&e.active||!t||!t.fileObject||!t.active||this.uploading--:(this.uploading++,this.$nextTick((function(){var t=this;setTimeout((function(){t.upload(e).then((function(){e=t.get(e),e&&e.fileObject&&t.update(e,{active:!1,success:!e.error})})).catch((function(n){t.update(e,{active:!1,success:!1,error:n.code||n.error||n.message||n})}))}),parseInt(50*Math.random()+50,10))}))),!this.active||Boolean(e)===Boolean(t)&&e.active===t.active||this.watchActive(!0)},emitInput:function(){this.$emit("input",this.files)},upload:function(e){var t=this.get(e);if(!t)return Promise.reject("not_exists");if(!t.fileObject)return Promise.reject("file_object");if(t.error)return Promise.reject(t.error);if(t.success)return Promise.resolve(t);var n=this.extensions;if(n&&(n.length||"undefined"===typeof n.length)&&("object"===("undefined"===typeof n?"undefined":y(n))&&n instanceof RegExp||("string"===typeof n&&(n=n.split(",").map((function(e){return e.trim()})).filter((function(e){return e}))),n=new RegExp("\\.("+n.join("|").replace(/\./g,"\\.")+")$","i")),-1===t.name.search(n)))return Promise.reject("extension");if(this.size>0&&t.size>=0&&t.size>this.size)return Promise.reject("size");if(this.customAction)return this.customAction(t,this);if(this.features.html5){if(this.shouldUseChunkUpload(t))return this.uploadChunk(t);if(t.putAction)return this.uploadPut(t);if(t.postAction)return this.uploadHtml5(t)}return t.postAction?this.uploadHtml4(t):Promise.reject("No action configured")},shouldUseChunkUpload:function(e){return this.chunkEnabled&&!!this.chunkOptions.handler&&e.size>this.chunkOptions.minSize},uploadChunk:function(e){var t=this.chunkOptions.handler;return e.chunk=new t(e,this.chunkOptions),e.chunk.upload()},uploadPut:function(e){var t=[],n=void 0;for(var i in e.data)n=e.data[i],null!==n&&void 0!==n&&t.push(encodeURIComponent(i)+"="+encodeURIComponent(n));var a=t.length?(-1===e.putAction.indexOf("?")?"?":"&")+t.join("&"):"",s=new XMLHttpRequest;return s.open("PUT",e.putAction+a),this.uploadXhr(s,e,e.file)},uploadHtml5:function(e){var t=new window.FormData,n=void 0;for(var i in e.data)n=e.data[i],n&&"object"===("undefined"===typeof n?"undefined":y(n))&&"function"!==typeof n.toString?n instanceof File?t.append(i,n,n.name):t.append(i,JSON.stringify(n)):null!==n&&void 0!==n&&t.append(i,n);t.append(this.name,e.file,e.file.filename||e.name);var a=new XMLHttpRequest;return a.open("POST",e.postAction),this.uploadXhr(a,e,t)},uploadXhr:function(e,t,n){var i=this,a=t,s=0,r=0;e.upload.onprogress=function(e){if(a=i.get(a),e.lengthComputable&&a&&a.fileObject&&a.active){var t=Math.round(Date.now()/1e3);t!==s&&(s=t,a=i.update(a,{progress:(e.loaded/e.total*100).toFixed(2),speed:e.loaded-r}),r=e.loaded)}};var o=setInterval((function(){if(a=i.get(a),!a||!a.fileObject||a.success||a.error||!a.active){o&&(clearInterval(o),o=!1);try{e.abort(),e.timeout=1}catch(t){}}}),100);return new Promise((function(t,s){var r=void 0,l=function(n){if(!r){if(r=!0,o&&(clearInterval(o),o=!1),a=i.get(a),!a)return s("not_exists");if(!a.fileObject)return s("file_object");if(a.error)return s(a.error);if(!a.active)return s("abort");if(a.success)return t(a);var l={};switch(n.type){case"timeout":case"abort":l.error=n.type;break;case"error":e.status?e.status>=500?l.error="server":e.status>=400&&(l.error="denied"):l.error="network";break;default:e.status>=500?l.error="server":e.status>=400?l.error="denied":l.progress="100.00"}if(e.responseText){var u=e.getResponseHeader("Content-Type");u&&-1!==u.indexOf("/json")?l.response=JSON.parse(e.responseText):l.response=e.responseText}return a=i.update(a,l),a.error?s(a.error):t(a)}};for(var u in e.onload=l,e.onerror=l,e.onabort=l,e.ontimeout=l,a.timeout&&(e.timeout=a.timeout),a.headers)e.setRequestHeader(u,a.headers[u]);a=i.update(a,{xhr:e}),e.send(n)}))},uploadHtml4:function(e){var t=this,n=e,i=function(e){27===e.keyCode&&e.preventDefault()},a=document.createElement("iframe");a.id="upload-iframe-"+n.id,a.name="upload-iframe-"+n.id,a.src="about:blank",a.setAttribute("style","width:1px;height:1px;top:-999em;position:absolute; margin-top:-999em;");var s=document.createElement("form");s.action=n.postAction,s.name="upload-form-"+n.id,s.setAttribute("method","POST"),s.setAttribute("target","upload-iframe-"+n.id),s.setAttribute("enctype","multipart/form-data");var r=void 0,o=void 0;for(var l in n.data)r=n.data[l],r&&"object"===("undefined"===typeof r?"undefined":y(r))&&"function"!==typeof r.toString&&(r=JSON.stringify(r)),null!==r&&void 0!==r&&(o=document.createElement("input"),o.type="hidden",o.name=l,o.value=r,s.appendChild(o));s.appendChild(n.el),document.body.appendChild(a).appendChild(s);var u=function(){var e=void 0;try{a.contentWindow&&(e=a.contentWindow.document)}catch(t){}if(!e)try{e=a.contentDocument?a.contentDocument:a.document}catch(t){e=a.document}return e&&e.body?e.body.innerHTML:null};return new Promise((function(e,r){setTimeout((function(){if(n=t.update(n,{iframe:a}),!n)return r("not_exists");var o=setInterval((function(){n=t.get(n),n&&n.fileObject&&!n.success&&!n.error&&n.active||(o&&(clearInterval(o),o=!1),a.onabort({type:n?"abort":"not_exists"}))}),100),l=void 0,c=function(a){if(!l){if(l=!0,o&&(clearInterval(o),o=!1),document.body.removeEventListener("keydown",i),n=t.get(n),!n)return r("not_exists");if(!n.fileObject)return r("file_object");if(n.error)return r(n.error);if(!n.active)return r("abort");if(n.success)return e(n);var s=u(),c={};switch(a.type){case"abort":c.error="abort";break;case"error":n.error?c.error=n.error:c.error=null===s?"network":"denied";break;default:n.error?c.error=n.error:null===c?c.error="network":c.progress="100.00"}if(null!==s){if(s&&"{"===s.substr(0,1)&&"}"===s.substr(s.length-1,1))try{s=JSON.parse(s)}catch(d){}c.response=s}return n=t.update(n,c),n.error?r(n.error):e(n)}};a.onload=c,a.onerror=c,a.onabort=c,document.body.addEventListener("keydown",i),s.submit()}),50)})).then((function(e){return a.parentNode&&a.parentNode.removeChild(a),e})).catch((function(e){return a.parentNode&&a.parentNode.removeChild(a),e}))},watchActive:function(e){var t=void 0,n=0;while(t=this.files[n])if(n++,t.fileObject)if(e&&!this.destroy){if(this.uploading>=this.thread||this.uploading&&!this.features.html5)break;t.active||t.error||t.success||this.update(t,{active:!0})}else t.active&&this.update(t,{active:!1});else;0===this.uploading&&(this.active=!1)},watchDrop:function(e){var t=e;if(this.features.drop){if(this.dropElement)try{document.removeEventListener("dragenter",this.onDragenter,!1),document.removeEventListener("dragleave",this.onDragleave,!1),document.removeEventListener("drop",this.onDocumentDrop,!1),this.dropElement.removeEventListener("dragover",this.onDragover,!1),this.dropElement.removeEventListener("drop",this.onDrop,!1)}catch(n){}t?"string"===typeof t?t=document.querySelector(t)||this.$root.$el.querySelector(t):!0===t&&(t=this.$parent.$el):t=!1,this.dropElement=t,this.dropElement&&(document.addEventListener("dragenter",this.onDragenter,!1),document.addEventListener("dragleave",this.onDragleave,!1),document.addEventListener("drop",this.onDocumentDrop,!1),this.dropElement.addEventListener("dragover",this.onDragover,!1),this.dropElement.addEventListener("drop",this.onDrop,!1))}},onDragenter:function(e){if(e.preventDefault(),!this.dropActive&&e.dataTransfer){var t=e.dataTransfer;t.files&&t.files.length?this.dropActive=!0:t.types?(t.types.indexOf&&-1!==t.types.indexOf("Files")||t.types.contains&&t.types.contains("Files"))&&(this.dropActive=!0):this.dropActive=!0}},onDragleave:function(e){e.preventDefault(),this.dropActive&&("HTML"===e.target.nodeName||e.target===e.explicitOriginalTarget||!e.fromElement&&(e.clientX<=0||e.clientY<=0||e.clientX>=window.innerWidth||e.clientY>=window.innerHeight))&&(this.dropActive=!1)},onDragover:function(e){e.preventDefault()},onDocumentDrop:function(){this.dropActive=!1},onDrop:function(e){e.preventDefault(),this.addDataTransfer(e.dataTransfer)}}},w="undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function x(e){return function(e,t){return $(e,t)}}var F=document.head||document.getElementsByTagName("head")[0],S={};function $(e,t){var n=w?t.media||"default":e,i=S[n]||(S[n]={ids:new Set,styles:[]});if(!i.ids.has(e)){i.ids.add(e);var a=t.source;if(t.map&&(a+="\n/*# sourceURL="+t.map.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",t.media&&i.element.setAttribute("media",t.media),F.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(a),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{var s=i.ids.size-1,r=document.createTextNode(a),o=i.element.childNodes;o[s]&&i.element.removeChild(o[s]),o.length?i.element.insertBefore(r,o[s]):i.element.appendChild(r)}}}var _=x,O=k,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{class:e.className},[e._t("default"),e._v(" "),n("label",{attrs:{for:e.inputId||e.name}}),e._v(" "),n("input-file")],2)},I=[],E=function(e){e&&e("data-v-76d380b6_0",{source:".file-uploads{overflow:hidden;position:relative;text-align:center;display:inline-block}.file-uploads.file-uploads-html4 input,.file-uploads.file-uploads-html5 label{background:#fff;opacity:0;font-size:20em;z-index:1;top:0;left:0;right:0;bottom:0;position:absolute;width:100%;height:100%}.file-uploads.file-uploads-html4 label,.file-uploads.file-uploads-html5 input{background:rgba(255,255,255,0);overflow:hidden;position:fixed;width:1px;height:1px;z-index:-1;opacity:0}",map:void 0,media:void 0})},D=void 0,T=void 0,z=!1,N=u({render:j,staticRenderFns:I},E,O,D,z,T,_,void 0),U=Object.freeze({default:N});function R(e){return e&&e["default"]||e}var P=R(U),L=P;return L}))}}]);
//# sourceMappingURL=datasetUpload.814f1895.js.map